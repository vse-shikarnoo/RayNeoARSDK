# RayNeoARSDK

–ë–∏–±–ª–∏–æ—Ç–µ–∫–∞ –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ AR –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π —Å –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π —Å—Ç–µ—Ä–µ–æ—Å–∫–æ–ø–∏—á–µ—Å–∫–æ–≥–æ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è, –ø—Ä–æ–¥–≤–∏–Ω—É—Ç–æ–π —Å–∏—Å—Ç–µ–º–æ–π –∫–∞—Å–∞–Ω–∏–π –∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Ñ–æ–∫—É—Å–æ–º, –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω–∞—è –¥–ª—è –Ω–æ—Å–∏–º—ã—Ö —É—Å—Ç—Ä–æ–π—Å—Ç–≤ —Ç–∏–ø–∞ AR –æ—á–∫–æ–≤.

## üìã –°–æ–¥–µ—Ä–∂–∞–Ω–∏–µ

- [–£—Å—Ç–∞–Ω–æ–≤–∫–∞](#—É—Å—Ç–∞–Ω–æ–≤–∫–∞)
- [–ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç](#–±—ã—Å—Ç—Ä—ã–π-—Å—Ç–∞—Ä—Ç)
- [–û—Å–Ω–æ–≤–Ω–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞](#–æ—Å–Ω–æ–≤–Ω–∞—è-–∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞)
- [–°–∏—Å—Ç–µ–º–∞ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Ñ–æ–∫—É—Å–æ–º](#—Å–∏—Å—Ç–µ–º–∞-—É–ø—Ä–∞–≤–ª–µ–Ω–∏—è-—Ñ–æ–∫—É—Å–æ–º)
- [–°–∏—Å—Ç–µ–º–∞ –æ–±—Ä–∞–±–æ—Ç–∫–∏ –∫–∞—Å–∞–Ω–∏–π](#—Å–∏—Å—Ç–µ–º–∞-–æ–±—Ä–∞–±–æ—Ç–∫–∏-–∫–∞—Å–∞–Ω–∏–π)
- [UI –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã](#ui-–∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã)
- [–ó–µ—Ä–∫–∞–ª—å–Ω—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã](#–∑–µ—Ä–∫–∞–ª—å–Ω—ã–µ-–∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã)
- [–î–∏–∞–ª–æ–≥–∏ –∏ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è](#–¥–∏–∞–ª–æ–≥–∏-–∏-—É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è)
- [–ê–¥–∞–ø—Ç–µ—Ä—ã –∏ –ø—Ä–∏–≤—è–∑–∫–∏ –¥–∞–Ω–Ω—ã—Ö](#–∞–¥–∞–ø—Ç–µ—Ä—ã-–∏-–ø—Ä–∏–≤—è–∑–∫–∏-–¥–∞–Ω–Ω—ã—Ö)
- [–£—Ç–∏–ª–∏—Ç—ã –∏ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏—è](#—É—Ç–∏–ª–∏—Ç—ã-–∏-—Ä–∞—Å—à–∏—Ä–µ–Ω–∏—è)
- [–ò–≥—Ä–æ–≤—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã](#–∏–≥—Ä–æ–≤—ã–µ-–∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã)
- [–°–∏—Å—Ç–µ–º–∞ –ø–∞—Ä](#—Å–∏—Å—Ç–µ–º–∞-–ø–∞—Ä)
- [–ó–≤—É–∫–æ–≤—ã–µ —ç—Ñ—Ñ–µ–∫—Ç—ã](#–∑–≤—É–∫–æ–≤—ã–µ-—ç—Ñ—Ñ–µ–∫—Ç—ã)
- [–°–ø–µ—Ü–∏—Ñ–∏—á–Ω—ã–µ –¥–ª—è AR —Ñ—É–Ω–∫—Ü–∏–∏](#—Å–ø–µ—Ü–∏—Ñ–∏—á–Ω—ã–µ-–¥–ª—è-ar-—Ñ—É–Ω–∫—Ü–∏–∏)
- [–ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è](#–ø—Ä–∏–º–µ—Ä—ã-–∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è)
- [–õ–∏—Ü–µ–Ω–∑–∏—è](#–ª–∏—Ü–µ–Ω–∑–∏—è)

## üöÄ –£—Å—Ç–∞–Ω–æ–≤–∫–∞

### –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è
- Android API 21+
- Kotlin 1.7+
- AndroidX

### –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ
```gradle
dependencies {
    implementation 'com.rayneo:arsdk:1.0.0'
}
```

## ‚ö° –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

### –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è
```kotlin
class MyApplication : Application() {
    override fun onCreate() {
        super.onCreate()
        MercurySDK.init(this)
    }
}
```

### –ë–∞–∑–æ–≤–∞—è –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—å —Å –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π –∫–∞—Å–∞–Ω–∏–π
```kotlin
class MainActivity : BaseTouchActivity() {
    override fun onClick(): Boolean {
        // –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ–¥–∏–Ω–æ—á–Ω–æ–≥–æ –∫–∞—Å–∞–Ω–∏—è
        return true
    }
    
    override fun onDoubleClick(): Boolean {
        // –û–±—Ä–∞–±–æ—Ç–∫–∞ –¥–≤–æ–π–Ω–æ–≥–æ –∫–∞—Å–∞–Ω–∏—è
        return true
    }
}
```

## üèóÔ∏è –û—Å–Ω–æ–≤–Ω–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞

### MercurySDK
–ì–ª–∞–≤–Ω—ã–π –∫–ª–∞—Å—Å –¥–ª—è –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏ –±–∏–±–ª–∏–æ—Ç–µ–∫–∏.

**–û—Å–Ω–æ–≤–Ω—ã–µ –º–µ—Ç–æ–¥—ã:**
- `init(Application application)` - –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –±–∏–±–ª–∏–æ—Ç–µ–∫–∏
- `getMApplication()` - –ø–æ–ª—É—á–µ–Ω–∏–µ –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è

**–ü—Ä–∏–º–µ—Ä –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è:**
```kotlin
// –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –≤ Application
MercurySDK.init(this)

// –ü–æ–ª—É—á–µ–Ω–∏–µ –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞
val app = MercurySDK.INSTANCE.mApplication
```

## üéØ –°–∏—Å—Ç–µ–º–∞ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Ñ–æ–∫—É—Å–æ–º

### IFocusable
–ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å –¥–ª—è —ç–ª–µ–º–µ–Ω—Ç–æ–≤ —Å —Ñ–æ–∫—É—Å–æ–º.

**–û—Å–Ω–æ–≤–Ω—ã–µ —Å–≤–æ–π—Å—Ç–≤–∞:**
- `hasFocus: Boolean` - —Å–æ—Å—Ç–æ—è–Ω–∏–µ —Ñ–æ–∫—É—Å–∞
- `focusParent: IFocusable?` - —Ä–æ–¥–∏—Ç–µ–ª—å—Å–∫–∏–π —ç–ª–µ–º–µ–Ω—Ç —Ñ–æ–∫—É—Å–∞

**–ü—Ä–∏–º–µ—Ä —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏:**
```kotlin
class MyFocusableItem : IFocusable {
    private var hasFocus = false
    private var focusParent: IFocusable? = null
    
    override fun getHasFocus(): Boolean = hasFocus
    override fun setHasFocus(value: Boolean) {
        hasFocus = value
        // –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ UI –ø—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ —Ñ–æ–∫—É—Å–∞
    }
    
    override fun getFocusParent(): IFocusable? = focusParent
    override fun setFocusParent(value: IFocusable?) {
        focusParent = value
    }
}
```

### FocusTracker
–¢—Ä–µ–∫–µ—Ä —Ñ–æ–∫—É—Å–∞ –¥–ª—è –¥–∏–∞–ª–æ–≥–æ–≤ –∏ –º–æ–¥–∞–ª—å–Ω—ã—Ö –æ–∫–æ–Ω.

**–û—Å–Ω–æ–≤–Ω—ã–µ –º–µ—Ç–æ–¥—ã:**
- `next()` - –ø–µ—Ä–µ—Ö–æ–¥ –∫ —Å–ª–µ–¥—É—é—â–µ–º—É —ç–ª–µ–º–µ–Ω—Ç—É
- `previous()` - –ø–µ—Ä–µ—Ö–æ–¥ –∫ –ø—Ä–µ–¥—ã–¥—É—â–µ–º—É —ç–ª–µ–º–µ–Ω—Ç—É
- `getCurrentFocusItem()` - –ø–æ–ª—É—á–µ–Ω–∏–µ —Ç–µ–∫—É—â–µ–≥–æ —ç–ª–µ–º–µ–Ω—Ç–∞ —Å —Ñ–æ–∫—É—Å–æ–º

**–ü—Ä–∏–º–µ—Ä –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è:**
```kotlin
val focusTracker = FocusTracker()
focusTracker.next() // –ü–µ—Ä–µ—Ö–æ–¥ –∫ —Å–ª–µ–¥—É—é—â–µ–º—É —ç–ª–µ–º–µ–Ω—Ç—É
focusTracker.previous() // –ü–µ—Ä–µ—Ö–æ–¥ –∫ –ø—Ä–µ–¥—ã–¥—É—â–µ–º—É —ç–ª–µ–º–µ–Ω—Ç—É
```

### RecyclerViewFocusTracker
–°–ø–µ—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–π —Ç—Ä–µ–∫–µ—Ä –¥–ª—è RecyclerView —Å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–π –ø—Ä–æ–∫—Ä—É—Ç–∫–æ–π.

**–û—Å–Ω–æ–≤–Ω—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏:**
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –ø—Ä–æ–∫—Ä—É—Ç–∫–∞ –∫ –≤—ã–±—Ä–∞–Ω–Ω–æ–º—É —ç–ª–µ–º–µ–Ω—Ç—É
- –ü–æ–¥–¥–µ—Ä–∂–∫–∞ —Ü–∏–∫–ª–∏—á–µ—Å–∫–æ–π –Ω–∞–≤–∏–≥–∞—Ü–∏–∏
- –û–±—Ä–∞–±–æ—Ç–∫–∞ —Å–æ–±—ã—Ç–∏–π Pull-to-Refresh
- –ù–∞—Å—Ç—Ä–æ–π–∫–∞ —á—É–≤—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ –ø—Ä–æ–∫—Ä—É—Ç–∫–∏

**–ö–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä:**
```kotlin
RecyclerViewFocusTracker(
    mPair: ViewPair<RecyclerView>,
    ignoreDelta: Int = 50,
    loop: Boolean = false
)
```

**–û—Å–Ω–æ–≤–Ω—ã–µ –º–µ—Ç–æ–¥—ã:**
- `setCurrentSelectPos(index: Int)` - —É—Å—Ç–∞–Ω–æ–≤–∫–∞ —Ç–µ–∫—É—â–µ–π –ø–æ–∑–∏—Ü–∏–∏
- `getCurrentSelectPos(): Int` - –ø–æ–ª—É—á–µ–Ω–∏–µ —Ç–µ–∫—É—â–µ–π –ø–æ–∑–∏—Ü–∏–∏
- `handleActionEvent(action: TempleAction, block: (TempleAction) -> Unit)` - –æ–±—Ä–∞–±–æ—Ç–∫–∞ –¥–µ–π—Å—Ç–≤–∏–π
- `checkPosSelected(pos: Int): Boolean` - –ø—Ä–æ–≤–µ—Ä–∫–∞ –≤—ã–±–æ—Ä–∞ –ø–æ–∑–∏—Ü–∏–∏
- `notifyDataSetChanged()` - —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –æ–± –∏–∑–º–µ–Ω–µ–Ω–∏–∏ –¥–∞–Ω–Ω—ã—Ö

**–ü—Ä–∏–º–µ—Ä –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è:**
```kotlin
val recyclerView = findViewById<RecyclerView>(R.id.recycler_view)
val viewPair = ViewPair(recyclerView, recyclerView)
val focusTracker = RecyclerViewFocusTracker(viewPair, ignoreDelta = 30, loop = true)

// –û–±—Ä–∞–±–æ—Ç–∫–∞ –¥–µ–π—Å—Ç–≤–∏–π –∫–∞—Å–∞–Ω–∏–π
focusTracker.handleActionEvent(action) { templeAction ->
    when (templeAction) {
        is TempleAction.SlideForward -> {
            // –û–±—Ä–∞–±–æ—Ç–∫–∞ —Å–≤–∞–π–ø–∞ –≤–ø–µ—Ä–µ–¥
        }
        is TempleAction.SlideBackward -> {
            // –û–±—Ä–∞–±–æ—Ç–∫–∞ —Å–≤–∞–π–ø–∞ –Ω–∞–∑–∞–¥
        }
    }
}

// –£—Å—Ç–∞–Ω–æ–≤–∫–∞ —Å–ª—É—à–∞—Ç–µ–ª–µ–π
focusTracker.setOnItemFocusListener { position, view ->
    // –û–±—Ä–∞–±–æ—Ç–∫–∞ —Ñ–æ–∫—É—Å–∞ –Ω–∞ —ç–ª–µ–º–µ–Ω—Ç–µ
}

focusTracker.setOnFocusChangeListener { hasFocus ->
    // –û–±—Ä–∞–±–æ—Ç–∫–∞ –∏–∑–º–µ–Ω–µ–Ω–∏—è —Ñ–æ–∫—É—Å–∞
}

focusTracker.setRefreshListener {
    // –û–±—Ä–∞–±–æ—Ç–∫–∞ Pull-to-Refresh
}
```

**–ù–∞—Å—Ç—Ä–æ–π–∫–∞ —Ü–∏–∫–ª–∏—á–µ—Å–∫–æ–π –Ω–∞–≤–∏–≥–∞—Ü–∏–∏:**
```kotlin
// –° —Ü–∏–∫–ª–∏—á–µ—Å–∫–æ–π –Ω–∞–≤–∏–≥–∞—Ü–∏–µ–π
val focusTracker = RecyclerViewFocusTracker(viewPair, loop = true)

// –ë–µ–∑ —Ü–∏–∫–ª–∏—á–µ—Å–∫–æ–π –Ω–∞–≤–∏–≥–∞—Ü–∏–∏ (—Å Pull-to-Refresh)
val focusTracker = RecyclerViewFocusTracker(viewPair, loop = false)
```

## üëÜ –°–∏—Å—Ç–µ–º–∞ –æ–±—Ä–∞–±–æ—Ç–∫–∏ –∫–∞—Å–∞–Ω–∏–π

### TouchDispatcher
–û—Å–Ω–æ–≤–Ω–æ–π –¥–∏—Å–ø–µ—Ç—á–µ—Ä –¥–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ –∫–∞—Å–∞–Ω–∏–π –∏ –∂–µ—Å—Ç–æ–≤.

**–ö–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä:**
```kotlin
TouchDispatcher(source: TouchDispatcher.Source)
```

**–ò—Å—Ç–æ—á–Ω–∏–∫–∏ –∫–∞—Å–∞–Ω–∏–π:**
- `TouchDispatcher.Source.Activity` - –¥–ª—è Activity
- `TouchDispatcher.Source.Global` - –¥–ª—è –≥–ª–æ–±–∞–ª—å–Ω—ã—Ö —Å–æ–±—ã—Ç–∏–π
- `TouchDispatcher.Source.Window` - –¥–ª—è —Å–æ–±—ã—Ç–∏–π –æ–∫–Ω–∞

**–û—Å–Ω–æ–≤–Ω—ã–µ –º–µ—Ç–æ–¥—ã:**
- `onMotionEvent(event: MotionEvent, callback: CommonTouchCallback?)` - –æ–±—Ä–∞–±–æ—Ç–∫–∞ —Å–æ–±—ã—Ç–∏–π –¥–≤–∏–∂–µ–Ω–∏—è
- `onKeyEvent(event: KeyEvent, callback: CommonTouchCallback?)` - –æ–±—Ä–∞–±–æ—Ç–∫–∞ —Å–æ–±—ã—Ç–∏–π –∫–ª–∞–≤–∏–∞—Ç—É—Ä—ã
- `toggleClickSoundEffect(type: Int, enable: Boolean)` - —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∑–≤—É–∫–æ–≤—ã–º–∏ —ç—Ñ—Ñ–µ–∫—Ç–∞–º–∏

**–ü—Ä–∏–º–µ—Ä –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è:**
```kotlin
val touchDispatcher = TouchDispatcher(TouchDispatcher.Source.Activity)
val callback = object : CommonTouchCallback {
    override fun onTPClick(): Boolean {
        // –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ–¥–∏–Ω–æ—á–Ω–æ–≥–æ –∫–∞—Å–∞–Ω–∏—è
        return true
    }
    
    override fun onTPDoubleClick(): Boolean {
        // –û–±—Ä–∞–±–æ—Ç–∫–∞ –¥–≤–æ–π–Ω–æ–≥–æ –∫–∞—Å–∞–Ω–∏—è
        return true
    }
    
    override fun onTPLongClick(): Boolean {
        // –û–±—Ä–∞–±–æ—Ç–∫–∞ –¥–ª–∏—Ç–µ–ª—å–Ω–æ–≥–æ –∫–∞—Å–∞–Ω–∏—è
        return true
    }
    
    override fun onTPSlideForward(args: FlingArgs): Boolean {
        // –û–±—Ä–∞–±–æ—Ç–∫–∞ —Å–≤–∞–π–ø–∞ –≤–ø–µ—Ä–µ–¥
        return true
    }
    
    override fun onTPSlideBackward(args: FlingArgs): Boolean {
        // –û–±—Ä–∞–±–æ—Ç–∫–∞ —Å–≤–∞–π–ø–∞ –Ω–∞–∑–∞–¥
        return true
    }
    
    override fun onTPSlideContinuous(delta: Float, longClick: Boolean): Boolean {
        // –û–±—Ä–∞–±–æ—Ç–∫–∞ –Ω–µ–ø—Ä–µ—Ä—ã–≤–Ω–æ–≥–æ —Å–∫–æ–ª—å–∂–µ–Ω–∏—è
        return true
    }
    
    override fun onTPMoveUp(isLongClick: Boolean): Boolean {
        // –û–±—Ä–∞–±–æ—Ç–∫–∞ –ø–æ–¥–Ω—è—Ç–∏—è –ø–∞–ª—å—Ü–∞
        return true
    }
    
    override fun onActionUp() {
        // –û–±—Ä–∞–±–æ—Ç–∫–∞ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è –¥–µ–π—Å—Ç–≤–∏—è
    }
    
    override fun onTPTripleClick() {
        // –û–±—Ä–∞–±–æ—Ç–∫–∞ —Ç—Ä–æ–π–Ω–æ–≥–æ –∫–∞—Å–∞–Ω–∏—è
    }
    
    override fun onKeyPinch() {
        // –û–±—Ä–∞–±–æ—Ç–∫–∞ –∂–µ—Å—Ç–∞ —â–∏–ø–∫–∞
    }
    
    override fun onKeyLongPinch() {
        // –û–±—Ä–∞–±–æ—Ç–∫–∞ –¥–ª–∏—Ç–µ–ª—å–Ω–æ–≥–æ –∂–µ—Å—Ç–∞ —â–∏–ø–∫–∞
    }
}

// –û–±—Ä–∞–±–æ—Ç–∫–∞ —Å–æ–±—ã—Ç–∏–π
override fun onTouchEvent(event: MotionEvent): Boolean {
    touchDispatcher.onMotionEvent(event, callback)
    return super.onTouchEvent(event)
}
```

### TempleAction
–°–∏—Å—Ç–µ–º–∞ –¥–µ–π—Å—Ç–≤–∏–π –∫–∞—Å–∞–Ω–∏–π —Å –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π —Ä–∞–∑–ª–∏—á–Ω—ã—Ö —Ç–∏–ø–æ–≤ –∂–µ—Å—Ç–æ–≤.

**–¢–∏–ø—ã –¥–µ–π—Å—Ç–≤–∏–π:**

#### Click
–û–¥–∏–Ω–æ—á–Ω–æ–µ –∫–∞—Å–∞–Ω–∏–µ.
```kotlin
val click = TempleAction.Click(consumed = false, id = SystemClock.uptimeMillis())
```

#### DoubleClick
–î–≤–æ–π–Ω–æ–µ –∫–∞—Å–∞–Ω–∏–µ.
```kotlin
val doubleClick = TempleAction.DoubleClick(consumed = false, id = SystemClock.uptimeMillis())
```

#### TripleClick
–¢—Ä–æ–π–Ω–æ–µ –∫–∞—Å–∞–Ω–∏–µ.
```kotlin
val tripleClick = TempleAction.TripleClick(consumed = false, id = SystemClock.uptimeMillis())
```

#### LongClick
–î–ª–∏—Ç–µ–ª—å–Ω–æ–µ –∫–∞—Å–∞–Ω–∏–µ.
```kotlin
val longClick = TempleAction.LongClick(consumed = false, id = SystemClock.uptimeMillis())
```

#### SlideForward/SlideBackward
–°–≤–∞–π–ø—ã –≤–ø–µ—Ä–µ–¥ –∏ –Ω–∞–∑–∞–¥ —Å –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º–∏ FlingArgs.
```kotlin
val flingArgs = FlingArgs(e1, e2, velocityX, velocityY)
val slideForward = TempleAction.SlideForward(flingArgs, consumed = false, id = SystemClock.uptimeMillis())
val slideBackward = TempleAction.SlideBackward(flingArgs, consumed = false, id = SystemClock.uptimeMillis())
```

#### SlideContinuous
–ù–µ–ø—Ä–µ—Ä—ã–≤–Ω–æ–µ —Å–∫–æ–ª—å–∂–µ–Ω–∏–µ —Å –¥–µ–ª—å—Ç–æ–π –∏ —Ñ–ª–∞–≥–æ–º –¥–ª–∏—Ç–µ–ª—å–Ω–æ–≥–æ –∫–∞—Å–∞–Ω–∏—è.
```kotlin
val slideContinuous = TempleAction.SlideContinuous(
    delta = 10.5f,
    longClick = false,
    id = SystemClock.uptimeMillis()
)
```

#### MoveUp
–ü–æ–¥–Ω—è—Ç–∏–µ –ø–∞–ª—å—Ü–∞ —Å —Ñ–ª–∞–≥–æ–º –¥–ª–∏—Ç–µ–ª—å–Ω–æ–≥–æ –∫–∞—Å–∞–Ω–∏—è.
```kotlin
val moveUp = TempleAction.MoveUp(isLongClick = false, id = SystemClock.uptimeMillis())
```

#### ActionUp
–ó–∞–≤–µ—Ä—à–µ–Ω–∏–µ –¥–µ–π—Å—Ç–≤–∏—è.
```kotlin
val actionUp = TempleAction.ActionUp(id = SystemClock.uptimeMillis())
```

**–û–±—Ä–∞–±–æ—Ç–∫–∞ –¥–µ–π—Å—Ç–≤–∏–π:**
```kotlin
fun handleTempleAction(action: TempleAction) {
    when (action) {
        is TempleAction.Click -> {
            // –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ–¥–∏–Ω–æ—á–Ω–æ–≥–æ –∫–∞—Å–∞–Ω–∏—è
        }
        is TempleAction.DoubleClick -> {
            // –û–±—Ä–∞–±–æ—Ç–∫–∞ –¥–≤–æ–π–Ω–æ–≥–æ –∫–∞—Å–∞–Ω–∏—è
        }
        is TempleAction.TripleClick -> {
            // –û–±—Ä–∞–±–æ—Ç–∫–∞ —Ç—Ä–æ–π–Ω–æ–≥–æ –∫–∞—Å–∞–Ω–∏—è
        }
        is TempleAction.LongClick -> {
            // –û–±—Ä–∞–±–æ—Ç–∫–∞ –¥–ª–∏—Ç–µ–ª—å–Ω–æ–≥–æ –∫–∞—Å–∞–Ω–∏—è
        }
        is TempleAction.SlideForward -> {
            // –û–±—Ä–∞–±–æ—Ç–∫–∞ —Å–≤–∞–π–ø–∞ –≤–ø–µ—Ä–µ–¥
            val args = action.args
            val velocityX = args.velocityX
            val velocityY = args.velocityY
        }
        is TempleAction.SlideBackward -> {
            // –û–±—Ä–∞–±–æ—Ç–∫–∞ —Å–≤–∞–π–ø–∞ –Ω–∞–∑–∞–¥
        }
        is TempleAction.SlideContinuous -> {
            // –û–±—Ä–∞–±–æ—Ç–∫–∞ –Ω–µ–ø—Ä–µ—Ä—ã–≤–Ω–æ–≥–æ —Å–∫–æ–ª—å–∂–µ–Ω–∏—è
            val delta = action.delta
            val isLongClick = action.longClick
        }
        is TempleAction.MoveUp -> {
            // –û–±—Ä–∞–±–æ—Ç–∫–∞ –ø–æ–¥–Ω—è—Ç–∏—è –ø–∞–ª—å—Ü–∞
            val isLongClick = action.isLongClick
        }
        is TempleAction.ActionUp -> {
            // –û–±—Ä–∞–±–æ—Ç–∫–∞ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è –¥–µ–π—Å—Ç–≤–∏—è
        }
    }
    
    // –ü—Ä–æ–≤–µ—Ä–∫–∞, –±—ã–ª–æ –ª–∏ –¥–µ–π—Å—Ç–≤–∏–µ –æ–±—Ä–∞–±–æ—Ç–∞–Ω–æ
    if (action.consumed) {
        // –î–µ–π—Å—Ç–≤–∏–µ —É–∂–µ –æ–±—Ä–∞–±–æ—Ç–∞–Ω–æ
    }
}
```

### FlingArgs
–ü–∞—Ä–∞–º–µ—Ç—Ä—ã –¥–ª—è –∂–µ—Å—Ç–æ–≤ —Å–≤–∞–π–ø–∞.

**–°–≤–æ–π—Å—Ç–≤–∞:**
- `e1: MotionEvent` - –Ω–∞—á–∞–ª—å–Ω–æ–µ —Å–æ–±—ã—Ç–∏–µ –∫–∞—Å–∞–Ω–∏—è
- `e2: MotionEvent` - –∫–æ–Ω–µ—á–Ω–æ–µ —Å–æ–±—ã—Ç–∏–µ –∫–∞—Å–∞–Ω–∏—è
- `velocityX: Float` - —Å–∫–æ—Ä–æ—Å—Ç—å –ø–æ –æ—Å–∏ X
- `velocityY: Float` - —Å–∫–æ—Ä–æ—Å—Ç—å –ø–æ –æ—Å–∏ Y

**–ü—Ä–∏–º–µ—Ä –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è:**
```kotlin
val flingArgs = FlingArgs(e1, e2, velocityX, velocityY)
val distanceX = e2.x - e1.x
val distanceY = e2.y - e1.y
val velocity = sqrt(velocityX * velocityX + velocityY * velocityY)
```

### CommonTouchCallbackMapping
–ú–∞–ø–ø–∏–Ω–≥ –æ–±—Ä–∞—Ç–Ω—ã—Ö –≤—ã–∑–æ–≤–æ–≤ –∫–∞—Å–∞–Ω–∏–π —Å –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π Flow.

**–ü—Ä–∏–º–µ—Ä –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è:**
```kotlin
val scope = CoroutineScope(Dispatchers.Main)
val callbackMapping = CommonTouchCallbackMapping(scope)

// –ü–æ–¥–ø–∏—Å–∫–∞ –Ω–∞ –¥–µ–π—Å—Ç–≤–∏—è
callbackMapping.action.collect { action ->
    when (action) {
        is TempleAction.Click -> {
            // –û–±—Ä–∞–±–æ—Ç–∫–∞ –∫–∞—Å–∞–Ω–∏—è
        }
        is TempleAction.SlideForward -> {
            // –û–±—Ä–∞–±–æ—Ç–∫–∞ —Å–≤–∞–π–ø–∞
        }
    }
}
```

## üé® UI –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã

### BaseActivity
–ë–∞–∑–æ–≤–∞—è –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—å —Å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–º —Å–∫—Ä—ã—Ç–∏–µ–º ActionBar.

**–û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏:**
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–∫—Ä—ã–≤–∞–µ—Ç ActionBar –ø—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏
- –†–∞—Å—à–∏—Ä—è–µ—Ç AppCompatActivity

**–ü—Ä–∏–º–µ—Ä –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è:**
```kotlin
class MainActivity : BaseActivity() {
    override fun onCreate(savedInstanceState: Bundle?) {
        super.onCreate(savedInstanceState)
        setContentView(R.layout.activity_main)
        // ActionBar –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–∫—Ä—ã—Ç
    }
}
```

### BaseTouchActivity
–ê–∫—Ç–∏–≤–Ω–æ—Å—Ç—å —Å –ø–æ–ª–Ω–æ–π –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π —Å–∏—Å—Ç–µ–º—ã –∫–∞—Å–∞–Ω–∏–π.

**–û—Å–Ω–æ–≤–Ω—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏:**
- –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å TouchDispatcher
- –û–±—Ä–∞–±–æ—Ç–∫–∞ –≤—Å–µ—Ö —Ç–∏–ø–æ–≤ –∫–∞—Å–∞–Ω–∏–π
- –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∑–≤—É–∫–æ–≤—ã–º–∏ —ç—Ñ—Ñ–µ–∫—Ç–∞–º–∏
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ MotionEvent

**–ü–µ—Ä–µ–æ–ø—Ä–µ–¥–µ–ª—è–µ–º—ã–µ –º–µ—Ç–æ–¥—ã:**
```kotlin
class MyTouchActivity : BaseTouchActivity() {
    override fun onClick(): Boolean {
        // –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ–¥–∏–Ω–æ—á–Ω–æ–≥–æ –∫–∞—Å–∞–Ω–∏—è
        return true
    }
    
    override fun onDoubleClick(): Boolean {
        // –û–±—Ä–∞–±–æ—Ç–∫–∞ –¥–≤–æ–π–Ω–æ–≥–æ –∫–∞—Å–∞–Ω–∏—è
        return true
    }
    
    override fun onLongClick(): Boolean {
        // –û–±—Ä–∞–±–æ—Ç–∫–∞ –¥–ª–∏—Ç–µ–ª—å–Ω–æ–≥–æ –∫–∞—Å–∞–Ω–∏—è
        return true
    }
    
    override fun onTPTripleClick() {
        // –û–±—Ä–∞–±–æ—Ç–∫–∞ —Ç—Ä–æ–π–Ω–æ–≥–æ –∫–∞—Å–∞–Ω–∏—è
    }
    
    override fun onSlideForward(args: FlingArgs): Boolean {
        // –û–±—Ä–∞–±–æ—Ç–∫–∞ —Å–≤–∞–π–ø–∞ –≤–ø–µ—Ä–µ–¥
        return true
    }
    
    override fun onSlideBackward(args: FlingArgs): Boolean {
        // –û–±—Ä–∞–±–æ—Ç–∫–∞ —Å–≤–∞–π–ø–∞ –Ω–∞–∑–∞–¥
        return true
    }
    
    override fun onSlideContinuous(delta: Float, longClick: Boolean): Boolean {
        // –û–±—Ä–∞–±–æ—Ç–∫–∞ –Ω–µ–ø—Ä–µ—Ä—ã–≤–Ω–æ–≥–æ —Å–∫–æ–ª—å–∂–µ–Ω–∏—è
        return true
    }
    
    override fun onMoveUp(isLongClick: Boolean): Boolean {
        // –û–±—Ä–∞–±–æ—Ç–∫–∞ –ø–æ–¥–Ω—è—Ç–∏—è –ø–∞–ª—å—Ü–∞
        return true
    }
    
    override fun onActionUp() {
        // –û–±—Ä–∞–±–æ—Ç–∫–∞ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è –¥–µ–π—Å—Ç–≤–∏—è
    }
}
```

**–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∑–≤—É–∫–æ–≤—ã–º–∏ —ç—Ñ—Ñ–µ–∫—Ç–∞–º–∏:**
```kotlin
// –í–∫–ª—é—á–µ–Ω–∏–µ –∑–≤—É–∫–æ–≤–æ–≥–æ —ç—Ñ—Ñ–µ–∫—Ç–∞
toggleSoundEffect(1, true)

// –û—Ç–∫–ª—é—á–µ–Ω–∏–µ –∑–≤—É–∫–æ–≤–æ–≥–æ —ç—Ñ—Ñ–µ–∫—Ç–∞
toggleSoundEffect(1, false)
```

**–ü–æ–ª—É—á–µ–Ω–∏–µ MotionEventDispatcher:**
```kotlin
val motionEventDispatcher = motionEventDispatcher
// –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –¥–ª—è –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ–π –æ–±—Ä–∞–±–æ—Ç–∫–∏ —Å–æ–±—ã—Ç–∏–π
```

### BaseMirrorActivity
–ê–∫—Ç–∏–≤–Ω–æ—Å—Ç—å —Å –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π –∑–µ—Ä–∫–∞–ª—å–Ω–æ–≥–æ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è –¥–ª—è AR —É—Å—Ç—Ä–æ–π—Å—Ç–≤.

**–û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏:**
- –ü–æ–¥–¥–µ—Ä–∂–∫–∞ —Å—Ç–µ—Ä–µ–æ—Å–∫–æ–ø–∏—á–µ—Å–∫–æ–≥–æ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —Å–æ–∑–¥–∞–Ω–∏–µ –ø–∞—Ä–Ω—ã—Ö View
- –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è —Å–æ—Å—Ç–æ—è–Ω–∏—è –º–µ–∂–¥—É —ç–∫—Ä–∞–Ω–∞–º–∏

### BaseMirrorFragment
–§—Ä–∞–≥–º–µ–Ω—Ç —Å –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π –∑–µ—Ä–∫–∞–ª—å–Ω–æ–≥–æ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è.

**–ü—Ä–∏–º–µ—Ä –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è:**
```kotlin
class MyMirrorFragment : BaseMirrorFragment() {
    override fun onCreateView(
        inflater: LayoutInflater,
        container: ViewGroup?,
        savedInstanceState: Bundle?
    ): View? {
        // –°–æ–∑–¥–∞–Ω–∏–µ –∑–µ—Ä–∫–∞–ª—å–Ω–æ–≥–æ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞
        return super.onCreateView(inflater, container, savedInstanceState)
    }
}
```

### BaseEventActivity
–ê–∫—Ç–∏–≤–Ω–æ—Å—Ç—å —Å –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π —Å–æ–±—ã—Ç–∏–π –∏ ViewModel.

**–û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏:**
- –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å ViewModel
- –ü–æ–¥–¥–µ—Ä–∂–∫–∞ —Å–æ–±—ã—Ç–∏–π —á–µ—Ä–µ–∑ LiveData
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∂–∏–∑–Ω–µ–Ω–Ω—ã–º —Ü–∏–∫–ª–æ–º

## üñºÔ∏è –ó–µ—Ä–∫–∞–ª—å–Ω—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã

### MirrorContainerView
–ö–æ–Ω—Ç–µ–π–Ω–µ—Ä —Å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–º –∑–µ—Ä–∫–∞–ª—å–Ω—ã–º –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ–º –¥–ª—è AR —É—Å—Ç—Ä–æ–π—Å—Ç–≤.

**–û—Å–Ω–æ–≤–Ω—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏:**
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —Å–æ–∑–¥–∞–Ω–∏–µ –ø–∞—Ä–Ω—ã—Ö ViewBinding
- –ì–æ—Ä–∏–∑–æ–Ω—Ç–∞–ª—å–Ω–æ–µ —Ä–∞—Å–ø–æ–ª–æ–∂–µ–Ω–∏–µ —ç–ª–µ–º–µ–Ω—Ç–æ–≤
- –ü–æ–¥–¥–µ—Ä–∂–∫–∞ 3D —ç—Ñ—Ñ–µ–∫—Ç–æ–≤
- –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è —Å–æ—Å—Ç–æ—è–Ω–∏—è –º–µ–∂–¥—É —ç–∫—Ä–∞–Ω–∞–º–∏

**–ö–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä—ã:**
```kotlin
MirrorContainerView(context: Context)
MirrorContainerView(context: Context, attrs: AttributeSet?)
MirrorContainerView(context: Context, attrs: AttributeSet?, defStyleAttr: Int)
```

**–û—Å–Ω–æ–≤–Ω—ã–µ –º–µ—Ç–æ–¥—ã:**
- `bindTo(bindingClz: Class<B>): BindingPair<B>` - –ø—Ä–∏–≤—è–∑–∫–∞ ViewBinding
- `getMBindingPair(): BindingPair<*>?` - –ø–æ–ª—É—á–µ–Ω–∏–µ –ø–∞—Ä—ã –ø—Ä–∏–≤—è–∑–æ–∫

**–ü—Ä–∏–º–µ—Ä –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è:**
```kotlin
val mirrorContainer = MirrorContainerView(this)
val bindingPair = mirrorContainer.bindTo(MyLayoutBinding::class.java)

// –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ª–µ–≤–æ–≥–æ —ç–∫—Ä–∞–Ω–∞
bindingPair.left.title.text = "–õ–µ–≤—ã–π —ç–∫—Ä–∞–Ω"
bindingPair.left.button.setOnClickListener {
    // –û–±—Ä–∞–±–æ—Ç–∫–∞ –Ω–∞–∂–∞—Ç–∏—è –Ω–∞ –ª–µ–≤–æ–º —ç–∫—Ä–∞–Ω–µ
}

// –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø—Ä–∞–≤–æ–≥–æ —ç–∫—Ä–∞–Ω–∞
bindingPair.right.title.text = "–ü—Ä–∞–≤—ã–π —ç–∫—Ä–∞–Ω"
bindingPair.right.button.setOnClickListener {
    // –û–±—Ä–∞–±–æ—Ç–∫–∞ –Ω–∞–∂–∞—Ç–∏—è –Ω–∞ –ø—Ä–∞–≤–æ–º —ç–∫—Ä–∞–Ω–µ
}

// –ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ 3D —ç—Ñ—Ñ–µ–∫—Ç–∞
BindingPairKt.make3DEffect(
    bindingPair.left.root,
    bindingPair.right.root,
    enabled = true,
    depth = 8.0f
)
```

**–°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è —Å–æ—Å—Ç–æ—è–Ω–∏—è:**
```kotlin
// –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –æ–±–æ–∏—Ö —ç–∫—Ä–∞–Ω–æ–≤ –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ
bindingPair.update { binding ->
    binding.title.text = "–û–±–Ω–æ–≤–ª–µ–Ω–Ω—ã–π —Ç–µ–∫—Å—Ç"
    binding.progressBar.progress = 50
}

// –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Ç–æ–ª—å–∫–æ –ª–µ–≤–æ–≥–æ —ç–∫—Ä–∞–Ω–∞
bindingPair.setLeft { binding ->
    binding.status.text = "–°—Ç–∞—Ç—É—Å: –ê–∫—Ç–∏–≤–µ–Ω"
}
```

### BaseMirrorContainerView
–ë–∞–∑–æ–≤—ã–π –∞–±—Å—Ç—Ä–∞–∫—Ç–Ω—ã–π –∫–ª–∞—Å—Å –¥–ª—è –∑–µ—Ä–∫–∞–ª—å–Ω—ã—Ö –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤.

**–û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏:**
- –ê–±—Å—Ç—Ä–∞–∫—Ç–Ω—ã–π –∫–ª–∞—Å—Å –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –∫–∞—Å—Ç–æ–º–Ω—ã—Ö –∑–µ—Ä–∫–∞–ª—å–Ω—ã—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤
- –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –±–∞–∑–æ–≤–æ–π —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç–∏ –∑–µ—Ä–∫–∞–ª—å–Ω–æ–≥–æ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è
- –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å —Ä–∞—Å—à–∏—Ä–µ–Ω–∏—è –¥–ª—è —Å–ø–µ—Ü–∏—Ñ–∏—á–Ω—ã—Ö –Ω—É–∂–¥

**–ü—Ä–∏–º–µ—Ä —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏:**
```kotlin
class CustomMirrorContainer : BaseMirrorContainerView {
    constructor(context: Context) : super(context)
    constructor(context: Context, attrs: AttributeSet?) : super(context, attrs)
    constructor(context: Context, attrs: AttributeSet?, defStyleAttr: Int) : super(context, attrs, defStyleAttr)
    
    override fun initMirrorView() {
        // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –∑–µ—Ä–∫–∞–ª—å–Ω–æ–≥–æ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è
    }
    
    override fun syncState() {
        // –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è —Å–æ—Å—Ç–æ—è–Ω–∏—è –º–µ–∂–¥—É —ç–∫—Ä–∞–Ω–∞–º–∏
    }
}
```

### –ó–µ—Ä–∫–∞–ª—å–Ω—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –≤ –¥–∏–∞–ª–æ–≥–∞—Ö

**–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –≤ FDialog:**
```kotlin
val dialog = FDialog.Builder<MyDialogBinding>(this, R.style.DialogTheme)
    .setContentView(
        bindingClz = MyDialogBinding::class.java,
        initViewBlock = { bindingPair, dialog ->
            // –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ª–µ–≤–æ–≥–æ —ç–∫—Ä–∞–Ω–∞
            bindingPair.left.title.text = "–ü–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ"
            bindingPair.left.message.text = "–í—ã —É–≤–µ—Ä–µ–Ω—ã?"
            
            // –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø—Ä–∞–≤–æ–≥–æ —ç–∫—Ä–∞–Ω–∞
            bindingPair.right.title.text = "Confirmation"
            bindingPair.right.message.text = "Are you sure?"
            
            // –ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ 3D —ç—Ñ—Ñ–µ–∫—Ç–∞
            BindingPairKt.make3DEffect(
                bindingPair.left.root,
                bindingPair.right.root,
                enabled = true,
                depth = 10.0f
            )
        }
    )
    .build()
```

### –ó–µ—Ä–∫–∞–ª—å–Ω—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –≤ —Ç–æ—Å—Ç–∞—Ö

**–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –≤ FToast:**
```kotlin
FToast.showCustom(
    msg = "–£–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ",
    bindingClz = MyToastBinding::class.java
) { bindingPair, message ->
    // –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ª–µ–≤–æ–≥–æ —ç–∫—Ä–∞–Ω–∞
    bindingPair.left.message.text = message
    bindingPair.left.icon.setImageResource(R.drawable.ic_info)
    
    // –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø—Ä–∞–≤–æ–≥–æ —ç–∫—Ä–∞–Ω–∞
    bindingPair.right.message.text = message
    bindingPair.right.icon.setImageResource(R.drawable.ic_info)
}
```

### 3D —ç—Ñ—Ñ–µ–∫—Ç—ã

**–ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ 3D —ç—Ñ—Ñ–µ–∫—Ç–æ–≤:**
```kotlin
// –í–∫–ª—é—á–µ–Ω–∏–µ 3D —ç—Ñ—Ñ–µ–∫—Ç–∞
BindingPairKt.make3DEffect(
    leftView = leftScreen.root,
    rightView = rightScreen.root,
    enabled = true,
    depth = 8.0f
)

// –û—Ç–∫–ª—é—á–µ–Ω–∏–µ 3D —ç—Ñ—Ñ–µ–∫—Ç–∞
BindingPairKt.make3DEffect(
    leftView = leftScreen.root,
    rightView = rightScreen.root,
    enabled = false,
    depth = 0.0f
)
```

**–ù–∞—Å—Ç—Ä–æ–π–∫–∞ –≥–ª—É–±–∏–Ω—ã —ç—Ñ—Ñ–µ–∫—Ç–∞:**
```kotlin
// –õ–µ–≥–∫–∏–π 3D —ç—Ñ—Ñ–µ–∫—Ç
val lightDepth = 4.0f

// –°—Ä–µ–¥–Ω–∏–π 3D —ç—Ñ—Ñ–µ–∫—Ç
val mediumDepth = 8.0f

// –°–∏–ª—å–Ω—ã–π 3D —ç—Ñ—Ñ–µ–∫—Ç
val strongDepth = 12.0f
```

## üí¨ –î–∏–∞–ª–æ–≥–∏ –∏ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è

### FDialog
–ö–∞—Å—Ç–æ–º–Ω—ã–π –¥–∏–∞–ª–æ–≥ —Å –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π –∑–µ—Ä–∫–∞–ª—å–Ω–æ–≥–æ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è –∏ —Å–∏—Å—Ç–µ–º—ã –∫–∞—Å–∞–Ω–∏–π.

**–û—Å–Ω–æ–≤–Ω—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏:**
- –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –∑–µ—Ä–∫–∞–ª—å–Ω–æ–≥–æ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è
- –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å —Å–∏—Å—Ç–µ–º–æ–π –∫–∞—Å–∞–Ω–∏–π
- Builder –ø–∞—Ç—Ç–µ—Ä–Ω –¥–ª—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏
- –û–±—Ä–∞–±–æ—Ç–∫–∞ —Å–æ–±—ã—Ç–∏–π —á–µ—Ä–µ–∑ TempleAction
- –ü–æ–¥–¥–µ—Ä–∂–∫–∞ FocusTracker

**Builder –º–µ—Ç–æ–¥—ã:**
```kotlin
val dialog = FDialog.Builder<MyDialogBinding>(this, R.style.DialogTheme)
    .setContentView(
        bindingClz = MyDialogBinding::class.java,
        initViewBlock = { bindingPair, dialog ->
            // –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞
        }
    )
    .setCancelable(true)
    .setCanceledOnTouchOutside(false)
    .setOnDismissListener { dialog ->
        // –û–±—Ä–∞–±–æ—Ç–∫–∞ –∑–∞–∫—Ä—ã—Ç–∏—è –¥–∏–∞–ª–æ–≥–∞
    }
    .setOnShowListener { dialog ->
        // –û–±—Ä–∞–±–æ—Ç–∫–∞ –ø–æ–∫–∞–∑–∞ –¥–∏–∞–ª–æ–≥–∞
    }
    .setEventHandler { action, dialog ->
        // –û–±—Ä–∞–±–æ—Ç–∫–∞ —Å–æ–±—ã—Ç–∏–π –∫–∞—Å–∞–Ω–∏–π
        when (action) {
            is TempleAction.Click -> {
                // –û–±—Ä–∞–±–æ—Ç–∫–∞ –∫–∞—Å–∞–Ω–∏—è
            }
            is TempleAction.SlideForward -> {
                // –û–±—Ä–∞–±–æ—Ç–∫–∞ —Å–≤–∞–π–ø–∞ –≤–ø–µ—Ä–µ–¥
            }
        }
    }
    .setFocusTracker(focusTracker)
    .build()
```

**–ü–æ–ª–Ω—ã–π –ø—Ä–∏–º–µ—Ä –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è:**
```kotlin
class MyActivity : BaseTouchActivity() {
    fun showCustomDialog() {
        val focusTracker = FocusTracker()
        
        val dialog = FDialog.Builder<DialogLayoutBinding>(this, R.style.CustomDialog)
            .setContentView(
                bindingClz = DialogLayoutBinding::class.java,
                initViewBlock = { bindingPair, dialog ->
                    // –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ª–µ–≤–æ–≥–æ —ç–∫—Ä–∞–Ω–∞
                    bindingPair.left.title.text = "–ü–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ"
                    bindingPair.left.message.text = "–í—ã —É–≤–µ—Ä–µ–Ω—ã, —á—Ç–æ —Ö–æ—Ç–∏—Ç–µ –ø—Ä–æ–¥–æ–ª–∂–∏—Ç—å?"
                    bindingPair.left.confirmButton.text = "–î–∞"
                    bindingPair.left.cancelButton.text = "–ù–µ—Ç"
                    
                    // –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø—Ä–∞–≤–æ–≥–æ —ç–∫—Ä–∞–Ω–∞
                    bindingPair.right.title.text = "Confirmation"
                    bindingPair.right.message.text = "Are you sure you want to continue?"
                    bindingPair.right.confirmButton.text = "Yes"
                    bindingPair.right.cancelButton.text = "No"
                    
                    // –ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ 3D —ç—Ñ—Ñ–µ–∫—Ç–∞
                    BindingPairKt.make3DEffect(
                        bindingPair.left.root,
                        bindingPair.right.root,
                        enabled = true,
                        depth = 10.0f
                    )
                    
                    // –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∫–Ω–æ–ø–æ–∫
                    bindingPair.left.confirmButton.setOnClickListener {
                        // –î–µ–π—Å—Ç–≤–∏–µ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è
                        dialog.dismiss()
                    }
                    
                    bindingPair.left.cancelButton.setOnClickListener {
                        // –î–µ–π—Å—Ç–≤–∏–µ –æ—Ç–º–µ–Ω—ã
                        dialog.dismiss()
                    }
                }
            )
            .setCancelable(true)
            .setCanceledOnTouchOutside(false)
            .setOnDismissListener { dialog ->
                // –û—á–∏—Å—Ç–∫–∞ —Ä–µ—Å—É—Ä—Å–æ–≤ –ø—Ä–∏ –∑–∞–∫—Ä—ã—Ç–∏–∏
            }
            .setEventHandler { action, dialog ->
                when (action) {
                    is TempleAction.SlideForward -> {
                        // –ü–µ—Ä–µ—Ö–æ–¥ –∫ —Å–ª–µ–¥—É—é—â–µ–º—É —ç–ª–µ–º–µ–Ω—Ç—É —Ñ–æ–∫—É—Å–∞
                        focusTracker.next()
                    }
                    is TempleAction.SlideBackward -> {
                        // –ü–µ—Ä–µ—Ö–æ–¥ –∫ –ø—Ä–µ–¥—ã–¥—É—â–µ–º—É —ç–ª–µ–º–µ–Ω—Ç—É —Ñ–æ–∫—É—Å–∞
                        focusTracker.previous()
                    }
                    is TempleAction.Click -> {
                        // –ê–∫—Ç–∏–≤–∞—Ü–∏—è —Ç–µ–∫—É—â–µ–≥–æ —ç–ª–µ–º–µ–Ω—Ç–∞ —Ñ–æ–∫—É—Å–∞
                        focusTracker.getCurrentFocusItem()?.getEventHandler()?.invoke(action, dialog)
                    }
                }
            }
            .setFocusTracker(focusTracker)
            .build()
        
        dialog.show()
    }
}
```

### FToast
–ö–∞—Å—Ç–æ–º–Ω—ã–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è —Å –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π –∑–µ—Ä–∫–∞–ª—å–Ω–æ–≥–æ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è.

**–û—Å–Ω–æ–≤–Ω—ã–µ –º–µ—Ç–æ–¥—ã:**
```kotlin
// –ü—Ä–æ—Å—Ç–æ–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ
FToast.show("–ü—Ä–æ—Å—Ç–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ")

// –£–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ —Å –Ω–∞—Å—Ç—Ä–æ–π–∫–∞–º–∏
FToast.show(
    msg = "–ù–∞—Å—Ç—Ä–æ–µ–Ω–Ω–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ",
    short = false, // –î–ª–∏—Ç–µ–ª—å–Ω–æ–µ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ
    yOffset = 200 // –°–º–µ—â–µ–Ω–∏–µ –ø–æ Y
)

// –£–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ —Å —Ä–µ—Å—É—Ä—Å–æ–º
FToast.show(R.string.message_text)

// –ö–∞—Å—Ç–æ–º–Ω–æ–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ
FToast.showCustom(
    msg = "–ö–∞—Å—Ç–æ–º–Ω–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ",
    bindingClz = MyToastBinding::class.java
) { bindingPair, message ->
    // –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞
    bindingPair.left.message.text = message
    bindingPair.left.icon.setImageResource(R.drawable.ic_success)
    
    bindingPair.right.message.text = message
    bindingPair.right.icon.setImageResource(R.drawable.ic_success)
}
```

**–ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è:**
```kotlin
// –£—Å–ø–µ—à–Ω–æ–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ
FToast.showCustom(
    msg = "–û–ø–µ—Ä–∞—Ü–∏—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∞ —É—Å–ø–µ—à–Ω–æ!",
    bindingClz = SuccessToastBinding::class.java
) { bindingPair, message ->
    bindingPair.left.message.text = message
    bindingPair.left.icon.setImageResource(R.drawable.ic_success)
    bindingPair.left.root.setBackgroundColor(Color.GREEN)
    
    bindingPair.right.message.text = message
    bindingPair.right.icon.setImageResource(R.drawable.ic_success)
    bindingPair.right.root.setBackgroundColor(Color.GREEN)
}

// –£–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –æ–± –æ—à–∏–±–∫–µ
FToast.showCustom(
    msg = "–ü—Ä–æ–∏–∑–æ—à–ª–∞ –æ—à–∏–±–∫–∞!",
    bindingClz = ErrorToastBinding::class.java
) { bindingPair, message ->
    bindingPair.left.message.text = message
    bindingPair.left.icon.setImageResource(R.drawable.ic_error)
    bindingPair.left.root.setBackgroundColor(Color.RED)
    
    bindingPair.right.message.text = message
    bindingPair.right.icon.setImageResource(R.drawable.ic_error)
    bindingPair.right.root.setBackgroundColor(Color.RED)
}

// –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏–æ–Ω–Ω–æ–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ
FToast.showCustom(
    msg = "–ù–æ–≤–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –¥–æ—Å—Ç—É–ø–Ω–∞",
    bindingClz = InfoToastBinding::class.java
) { bindingPair, message ->
    bindingPair.left.message.text = message
    bindingPair.left.icon.setImageResource(R.drawable.ic_info)
    bindingPair.left.root.setBackgroundColor(Color.BLUE)
    
    bindingPair.right.message.text = message
    bindingPair.right.icon.setImageResource(R.drawable.ic_info)
    bindingPair.right.root.setBackgroundColor(Color.BLUE)
}
```

**–ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø–æ–∑–∏—Ü–∏–∏ –∏ –¥–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏:**
```kotlin
// –ö–æ—Ä–æ—Ç–∫–æ–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –≤ –≤–µ—Ä—Ö–Ω–µ–π —á–∞—Å—Ç–∏ —ç–∫—Ä–∞–Ω–∞
FToast.show(
    msg = "–ö–æ—Ä–æ—Ç–∫–æ–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ",
    short = true,
    yOffset = 100
)

// –î–ª–∏—Ç–µ–ª—å–Ω–æ–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –≤ —Ü–µ–Ω—Ç—Ä–µ —ç–∫—Ä–∞–Ω–∞
FToast.show(
    msg = "–î–ª–∏—Ç–µ–ª—å–Ω–æ–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ",
    short = false,
    yOffset = 0
)

// –£–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –≤ –Ω–∏–∂–Ω–µ–π —á–∞—Å—Ç–∏ —ç–∫—Ä–∞–Ω–∞
FToast.show(
    msg = "–ù–∏–∂–Ω–µ–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ",
    short = true,
    yOffset = 300
)
```

## üìã –ê–¥–∞–ø—Ç–µ—Ä—ã –∏ –ø—Ä–∏–≤—è–∑–∫–∏ –¥–∞–Ω–Ω—ã—Ö

### BaseBindingAdapter
–ë–∞–∑–æ–≤—ã–π –∞–¥–∞–ø—Ç–µ—Ä —Å –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π ViewBinding –¥–ª—è —Ç–∏–ø–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω–æ–π —Ä–∞–±–æ—Ç—ã —Å –¥–∞–Ω–Ω—ã–º–∏.

**–û—Å–Ω–æ–≤–Ω—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏:**
- –ü–æ–¥–¥–µ—Ä–∂–∫–∞ ViewBinding
- –¢–∏–ø–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –∞–¥–∞–ø—Ç–µ—Ä—ã
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∂–∏–∑–Ω–µ–Ω–Ω—ã–º —Ü–∏–∫–ª–æ–º View

**–ü—Ä–∏–º–µ—Ä —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏:**
```kotlin
class MyAdapter : BaseBindingAdapter<MyItem, MyItemBinding>() {
    
    override fun onCreateViewHolder(parent: ViewGroup, viewType: Int): MyViewHolder {
        val binding = MyItemBinding.inflate(
            LayoutInflater.from(parent.context), 
            parent, 
            false
        )
        return MyViewHolder(binding)
    }
    
    override fun onBindViewHolder(holder: MyViewHolder, position: Int) {
        val item = getItem(position)
        holder.bind(item)
    }
    
    class MyViewHolder(private val binding: MyItemBinding) : 
        RecyclerView.ViewHolder(binding.root) {
        
        fun bind(item: MyItem) {
            binding.title.text = item.title
            binding.description.text = item.description
            binding.icon.setImageResource(item.iconRes)
            
            binding.root.setOnClickListener {
                // –û–±—Ä–∞–±–æ—Ç–∫–∞ –Ω–∞–∂–∞—Ç–∏—è
            }
        }
    }
}
```

### BaseBindingHolder
–ë–∞–∑–æ–≤—ã–π —Ö–æ–ª–¥–µ—Ä —Å –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–µ–π ViewBinding.

**–ü—Ä–∏–º–µ—Ä –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è:**
```kotlin
class CustomViewHolder(binding: CustomItemBinding) : 
    BaseBindingHolder<CustomItemBinding>(binding) {
    
    override fun bind(item: CustomItem) {
        binding.title.text = item.title
        binding.progressBar.progress = item.progress
        
        // –ù–∞—Å—Ç—Ä–æ–π–∫–∞ —Å–æ—Å—Ç–æ—è–Ω–∏—è —Ñ–æ–∫—É—Å–∞
        binding.root.isSelected = item.isSelected
    }
    
    override fun onFocusChanged(hasFocus: Boolean) {
        binding.root.isSelected = hasFocus
        if (hasFocus) {
            binding.root.setBackgroundColor(Color.BLUE)
        } else {
            binding.root.setBackgroundColor(Color.TRANSPARENT)
        }
    }
}
```

### SimpleBindingAdapter
–£–ø—Ä–æ—â–µ–Ω–Ω—ã–π –∞–¥–∞–ø—Ç–µ—Ä –¥–ª—è –ø—Ä–æ—Å—Ç—ã—Ö —Å–ª—É—á–∞–µ–≤ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è.

**–ü—Ä–∏–º–µ—Ä –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è:**
```kotlin
class SimpleAdapter : SimpleBindingAdapter<String, SimpleItemBinding>() {
    
    override fun onBindViewHolder(holder: SimpleViewHolder, position: Int) {
        val item = getItem(position)
        holder.binding.textView.text = item
    }
    
    class SimpleViewHolder(binding: SimpleItemBinding) : 
        RecyclerView.ViewHolder(binding.root) {
        val binding = binding
    }
}

// –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ
val adapter = SimpleAdapter()
adapter.submitList(listOf("Item 1", "Item 2", "Item 3"))
recyclerView.adapter = adapter
```

### –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å RecyclerViewFocusTracker

**–ü—Ä–∏–º–µ—Ä –∞–¥–∞–ø—Ç–µ—Ä–∞ —Å –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π —Ñ–æ–∫—É—Å–∞:**
```kotlin
class FocusableAdapter : BaseBindingAdapter<FocusableItem, FocusableItemBinding>() {
    
    private var focusTracker: RecyclerViewFocusTracker? = null
    
    fun setFocusTracker(tracker: RecyclerViewFocusTracker) {
        this.focusTracker = tracker
    }
    
    override fun onBindViewHolder(holder: FocusableViewHolder, position: Int) {
        val item = getItem(position)
        holder.bind(item, position)
    }
    
    class FocusableViewHolder(binding: FocusableItemBinding) : 
        RecyclerView.ViewHolder(binding.root) {
        
        fun bind(item: FocusableItem, position: Int) {
            binding.title.text = item.title
            binding.description.text = item.description
            
            // –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å–æ—Å—Ç–æ—è–Ω–∏—è —Ñ–æ–∫—É—Å–∞
            val isSelected = focusTracker?.checkPosSelected(position) ?: false
            binding.root.isSelected = isSelected
            
            if (isSelected) {
                binding.root.setBackgroundColor(Color.BLUE)
                binding.title.setTextColor(Color.WHITE)
            } else {
                binding.root.setBackgroundColor(Color.TRANSPARENT)
                binding.title.setTextColor(Color.BLACK)
            }
        }
    }
}

// –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —Å —Ñ–æ–∫—É—Å–æ–º
val adapter = FocusableAdapter()
val focusTracker = RecyclerViewFocusTracker(viewPair, loop = true)
adapter.setFocusTracker(focusTracker)

// –û–±—Ä–∞–±–æ—Ç–∫–∞ –¥–µ–π—Å—Ç–≤–∏–π
focusTracker.handleActionEvent(action) { templeAction ->
    when (templeAction) {
        is TempleAction.Click -> {
            val selectedPos = focusTracker.checkedSelectPos()
            if (selectedPos >= 0) {
                val item = adapter.getItem(selectedPos)
                // –û–±—Ä–∞–±–æ—Ç–∫–∞ –≤—ã–±–æ—Ä–∞ —ç–ª–µ–º–µ–Ω—Ç–∞
            }
        }
    }
}
```

### –ó–µ—Ä–∫–∞–ª—å–Ω—ã–µ –∞–¥–∞–ø—Ç–µ—Ä—ã

**–ê–¥–∞–ø—Ç–µ—Ä —Å –∑–µ—Ä–∫–∞–ª—å–Ω—ã–º –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ–º:**
```kotlin
class MirrorAdapter : BaseBindingAdapter<MirrorItem, MirrorItemBinding>() {
    
    override fun onBindViewHolder(holder: MirrorViewHolder, position: Int) {
        val item = getItem(position)
        holder.bind(item)
    }
    
    class MirrorViewHolder(binding: MirrorItemBinding) : 
        RecyclerView.ViewHolder(binding.root) {
        
        fun bind(item: MirrorItem) {
            // –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ª–µ–≤–æ–≥–æ —ç–∫—Ä–∞–Ω–∞
            binding.leftTitle.text = item.leftTitle
            binding.leftIcon.setImageResource(item.leftIcon)
            
            // –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø—Ä–∞–≤–æ–≥–æ —ç–∫—Ä–∞–Ω–∞
            binding.rightTitle.text = item.rightTitle
            binding.rightIcon.setImageResource(item.rightIcon)
            
            // –ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ 3D —ç—Ñ—Ñ–µ–∫—Ç–∞
            BindingPairKt.make3DEffect(
                binding.leftContainer,
                binding.rightContainer,
                enabled = true,
                depth = 6.0f
            )
        }
    }
}
```

### –°–ª—É—à–∞—Ç–µ–ª–∏ —Å–æ–±—ã—Ç–∏–π

**–ù–∞—Å—Ç—Ä–æ–π–∫–∞ —Å–ª—É—à–∞—Ç–µ–ª–µ–π:**
```kotlin
// –°–ª—É—à–∞—Ç–µ–ª—å —Ñ–æ–∫—É—Å–∞ –Ω–∞ —ç–ª–µ–º–µ–Ω—Ç–µ
focusTracker.setOnItemFocusListener { position, view ->
    // –ê–Ω–∏–º–∞—Ü–∏—è –ø—Ä–∏ –ø–æ–ª—É—á–µ–Ω–∏–∏ —Ñ–æ–∫—É—Å–∞
    view.animate()
        .scaleX(1.1f)
        .scaleY(1.1f)
        .setDuration(200)
        .start()
}

// –°–ª—É—à–∞—Ç–µ–ª—å –∏–∑–º–µ–Ω–µ–Ω–∏—è —Ñ–æ–∫—É—Å–∞
focusTracker.setOnFocusChangeListener { hasFocus ->
    if (hasFocus) {
        // –ê–∫—Ç–∏–≤–∞—Ü–∏—è —Ç—Ä–µ–∫–µ—Ä–∞
    } else {
        // –î–µ–∞–∫—Ç–∏–≤–∞—Ü–∏—è —Ç—Ä–µ–∫–µ—Ä–∞
    }
}

// –°–ª—É—à–∞—Ç–µ–ª—å Pull-to-Refresh
focusTracker.setRefreshListener {
    // –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö
    loadMoreData()
}
```

## üîß –£—Ç–∏–ª–∏—Ç—ã –∏ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏—è

### ViewExtensionKt
–†–∞—Å—à–∏—Ä–µ–Ω–∏—è –¥–ª—è View —Å –ø–æ–ª–µ–∑–Ω—ã–º–∏ —É—Ç–∏–ª–∏—Ç–∞–º–∏.

**–û—Å–Ω–æ–≤–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏:**
- –ö–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏—è dp –≤ px
- –†–∞–±–æ—Ç–∞ —Å —Ä–∞–∑–º–µ—Ä–∞–º–∏
- –£—Ç–∏–ª–∏—Ç—ã –¥–ª—è –ø–æ–∑–∏—Ü–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è

**–ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è:**
```kotlin
// –ö–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏—è dp –≤ px
val pixels = ViewExtensionKt.getDp(16) // 16dp –≤ –ø–∏–∫—Å–µ–ª–∏

// –ü–æ–ª—É—á–µ–Ω–∏–µ —Ä–∞–∑–º–µ—Ä–∞ —ç–∫—Ä–∞–Ω–∞
val screenWidth = ViewExtensionKt.getScreenWidth(context)
val screenHeight = ViewExtensionKt.getScreenHeight(context)

// –†–∞–±–æ—Ç–∞ —Å —Ä–∞–∑–º–µ—Ä–∞–º–∏ View
view.post {
    val viewWidth = view.width
    val viewHeight = view.height
    val centerX = viewWidth / 2
    val centerY = viewHeight / 2
}
```

### FLogger
–°–∏—Å—Ç–µ–º–∞ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è —Å —Ä–∞–∑–ª–∏—á–Ω—ã–º–∏ —É—Ä–æ–≤–Ω—è–º–∏.

**–£—Ä–æ–≤–Ω–∏ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è:**
- `FLogger.d()` - Debug
- `FLogger.v()` - Verbose
- `FLogger.i()` - Info
- `FLogger.e()` - Error

**–ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è:**
```kotlin
// –ü—Ä–æ—Å—Ç–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ
FLogger.d("MyTag", "Debug message")
FLogger.i("MyTag", "Info message")
FLogger.e("MyTag", "Error message")

// –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ —Å –∏—Å–∫–ª—é—á–µ–Ω–∏–µ–º
FLogger.e("MyTag", "Error occurred", exception)

// –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ —Å –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–º–∏ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º–∏
FLogger.d("TouchDispatcher", "Touch event: x=${event.x}, y=${event.y}")

// –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ —Å–æ—Å—Ç–æ—è–Ω–∏—è
FLogger.i("FocusTracker", "Focus changed: hasFocus=$hasFocus")
```

**–ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è:**
```kotlin
// –í–∫–ª—é—á–µ–Ω–∏–µ/–æ—Ç–∫–ª—é—á–µ–Ω–∏–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è
FLogger.setEnabled(true) // –í–∫–ª—é—á–∏—Ç—å –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ
FLogger.setEnabled(false) // –û—Ç–∫–ª—é—á–∏—Ç—å –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ

// –ù–∞—Å—Ç—Ä–æ–π–∫–∞ —É—Ä–æ–≤–Ω—è –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è
FLogger.setLogLevel(FLogger.LEVEL_DEBUG) // –ü–æ–∫–∞–∑–∞—Ç—å –≤—Å–µ –ª–æ–≥–∏
FLogger.setLogLevel(FLogger.LEVEL_ERROR) // –ü–æ–∫–∞–∑–∞—Ç—å —Ç–æ–ª—å–∫–æ –æ—à–∏–±–∫–∏
```

### MyTouchUtils
–£—Ç–∏–ª–∏—Ç—ã –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –∫–∞—Å–∞–Ω–∏—è–º–∏.

**–û—Å–Ω–æ–≤–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏:**
- –û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –ø—Ä–∞–≤–æ–≥–æ –∫–∞—Å–∞–Ω–∏—è
- –ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞ —Ç–µ—Å—Ç–æ–≤—ã–µ –∫–∞—Å–∞–Ω–∏—è (monkey)
- –£—Ç–∏–ª–∏—Ç—ã –¥–ª—è –∞–Ω–∞–ª–∏–∑–∞ —Å–æ–±—ã—Ç–∏–π –∫–∞—Å–∞–Ω–∏–π

**–ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è:**
```kotlin
// –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø—Ä–∞–≤–æ–≥–æ –∫–∞—Å–∞–Ω–∏—è
if (MyTouchUtils.isRight(event)) {
    // –û–±—Ä–∞–±–æ—Ç–∫–∞ –ø—Ä–∞–≤–æ–≥–æ –∫–∞—Å–∞–Ω–∏—è
}

// –ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞ —Ç–µ—Å—Ç–æ–≤—ã–µ –∫–∞—Å–∞–Ω–∏—è
if (MyTouchUtils.isMonkey()) {
    // –ò–≥–Ω–æ—Ä–∏—Ä–æ–≤–∞—Ç—å –∏–ª–∏ –æ–±—Ä–∞–±–æ—Ç–∞—Ç—å –ø–æ-–¥—Ä—É–≥–æ–º—É
}

// –ê–Ω–∞–ª–∏–∑ —Å–æ–±—ã—Ç–∏—è –∫–∞—Å–∞–Ω–∏—è
val isTouchDown = event.action == MotionEvent.ACTION_DOWN
val isTouchUp = event.action == MotionEvent.ACTION_UP
val isTouchMove = event.action == MotionEvent.ACTION_MOVE

// –ü–æ–ª—É—á–µ–Ω–∏–µ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ –∫–∞—Å–∞–Ω–∏–∏
val touchX = event.x
val touchY = event.y
val pressure = event.pressure
val size = event.size
```

### StartSnapHelper
–£–ª—É—á—à–µ–Ω–Ω—ã–π –ø–æ–º–æ—â–Ω–∏–∫ –¥–ª—è SnapHelper –≤ RecyclerView.

**–û—Å–Ω–æ–≤–Ω—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏:**
- –£–ª—É—á—à–µ–Ω–Ω–∞—è –ø—Ä–æ–∫—Ä—É—Ç–∫–∞
- –ü–æ–¥–¥–µ—Ä–∂–∫–∞ —Ä–∞–∑–ª–∏—á–Ω—ã—Ö —Ç–∏–ø–æ–≤ SnapHelper
- –ö–∞—Å—Ç–æ–º–∏–∑–∞—Ü–∏—è –ø–æ–≤–µ–¥–µ–Ω–∏—è –ø—Ä–æ–∫—Ä—É—Ç–∫–∏

**–ü—Ä–∏–º–µ—Ä –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è:**
```kotlin
// –°–æ–∑–¥–∞–Ω–∏–µ StartSnapHelper
val snapHelper = StartSnapHelper()

// –ü—Ä–∏–≤—è–∑–∫–∞ –∫ RecyclerView
snapHelper.attachToRecyclerView(recyclerView)

// –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø–æ–≤–µ–¥–µ–Ω–∏—è
snapHelper.setSnapToStart(true) // –ü—Ä–∏–≤—è–∑–∫–∞ –∫ –Ω–∞—á–∞–ª—É
snapHelper.setSnapToEnd(false) // –ù–µ –ø—Ä–∏–≤—è–∑—ã–≤–∞—Ç—å –∫ –∫–æ–Ω—Ü—É
```

### –£—Ç–∏–ª–∏—Ç—ã –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –ø–∞—Ä–∞–º–∏

**BaseMirrorAction**
–ë–∞–∑–æ–≤—ã–π –∫–ª–∞—Å—Å –¥–ª—è –¥–µ–π—Å—Ç–≤–∏–π —Å –∑–µ—Ä–∫–∞–ª—å–Ω—ã–º–∏ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞–º–∏.

**–ü—Ä–∏–º–µ—Ä –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è:**
```kotlin
class MyMirrorAction(left: MyView, right: MyView) : 
    BaseMirrorAction<MyView>(left, right) {
    
    fun updateTitle(title: String) {
        update { view ->
            view.title.text = title
        }
    }
    
    fun updateLeftOnly(block: (MyView) -> Unit) {
        setLeft(block)
    }
    
    fun isLeftView(view: MyView): Boolean {
        return checkIsLeft(view)
    }
}
```

### –£—Ç–∏–ª–∏—Ç—ã –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å —Å–æ–±—ã—Ç–∏—è–º–∏

**MotionEventDispatcher**
–î–∏—Å–ø–µ—Ç—á–µ—Ä —Å–æ–±—ã—Ç–∏–π –¥–≤–∏–∂–µ–Ω–∏—è —Å –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ–º.

**–ü—Ä–∏–º–µ—Ä –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è:**
```kotlin
val dispatcher = MotionEventDispatcher("MyActivity")

// –î–∏—Å–ø–µ—Ç—á–µ—Ä–∏–∑–∞—Ü–∏—è —Å–æ–±—ã—Ç–∏—è
dispatcher.dispatchTouchEvent(event)

// –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –±—É–¥–µ—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–º
// [MyActivity] Touch event: x=100, y=200, action=ACTION_DOWN
```

### –£—Ç–∏–ª–∏—Ç—ã –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å —Ä–∞–∑–º–µ—Ä–∞–º–∏

**–ö–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏—è —Ä–∞–∑–º–µ—Ä–æ–≤:**
```kotlin
// dp –≤ px
val pixels = context.resources.displayMetrics.density * dp

// px –≤ dp
val dp = pixels / context.resources.displayMetrics.density

// sp –≤ px
val pixels = context.resources.displayMetrics.scaledDensity * sp

// px –≤ sp
val sp = pixels / context.resources.displayMetrics.scaledDensity
```

**–†–∞–±–æ—Ç–∞ —Å —ç–∫—Ä–∞–Ω–æ–º:**
```kotlin
// –ü–æ–ª—É—á–µ–Ω–∏–µ —Ä–∞–∑–º–µ—Ä–æ–≤ —ç–∫—Ä–∞–Ω–∞
val displayMetrics = context.resources.displayMetrics
val screenWidth = displayMetrics.widthPixels
val screenHeight = displayMetrics.heightPixels

// –ü–æ–ª—É—á–µ–Ω–∏–µ –ø–ª–æ—Ç–Ω–æ—Å—Ç–∏ —ç–∫—Ä–∞–Ω–∞
val density = displayMetrics.density
val scaledDensity = displayMetrics.scaledDensity

// –ü—Ä–æ–≤–µ—Ä–∫–∞ –æ—Ä–∏–µ–Ω—Ç–∞—Ü–∏–∏
val isLandscape = screenWidth > screenHeight
val isPortrait = screenHeight > screenWidth
```

### –£—Ç–∏–ª–∏—Ç—ã –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å —Ü–≤–µ—Ç–∞–º–∏

**–†–∞–±–æ—Ç–∞ —Å —Ü–≤–µ—Ç–∞–º–∏:**
```kotlin
// –ü–æ–ª—É—á–µ–Ω–∏–µ —Ü–≤–µ—Ç–∞ –∏–∑ —Ä–µ—Å—É—Ä—Å–æ–≤
val color = ContextCompat.getColor(context, R.color.my_color)

// –°–æ–∑–¥–∞–Ω–∏–µ —Ü–≤–µ—Ç–∞ —Å –ø—Ä–æ–∑—Ä–∞—á–Ω–æ—Å—Ç—å—é
val transparentColor = Color.argb(128, 255, 0, 0) // –ü–æ–ª—É–ø—Ä–æ–∑—Ä–∞—á–Ω—ã–π –∫—Ä–∞—Å–Ω—ã–π

// –ò–∑–º–µ–Ω–µ–Ω–∏–µ –ø—Ä–æ–∑—Ä–∞—á–Ω–æ—Å—Ç–∏ —Ü–≤–µ—Ç–∞
val originalColor = Color.RED
val alpha = 128
val transparentColor = Color.argb(alpha, Color.red(originalColor), 
    Color.green(originalColor), Color.blue(originalColor))
```

## üéÆ –ò–≥—Ä–æ–≤—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã

### KeyguardUtils
–£—Ç–∏–ª–∏—Ç—ã –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –±–ª–æ–∫–∏—Ä–æ–≤–∫–æ–π —ç–∫—Ä–∞–Ω–∞.

**–û—Å–Ω–æ–≤–Ω—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏:**
- –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ–º –±–ª–æ–∫–∏—Ä–æ–≤–∫–∏ —ç–∫—Ä–∞–Ω–∞
- –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å–æ—Å—Ç–æ—è–Ω–∏—è –±–ª–æ–∫–∏—Ä–æ–≤–∫–∏
- –í–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏–µ —Å —Å–∏—Å—Ç–µ–º–Ω—ã–º–∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞–º–∏

**–ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è:**
```kotlin
// –ü—Ä–æ–≤–µ—Ä–∫–∞, –∑–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω –ª–∏ —ç–∫—Ä–∞–Ω
val isKeyguardLocked = KeyguardUtils.isKeyguardLocked(context)

// –ü—Ä–æ–≤–µ—Ä–∫–∞, –∑–∞—â–∏—â–µ–Ω –ª–∏ —ç–∫—Ä–∞–Ω –ø–∞—Ä–æ–ª–µ–º
val isKeyguardSecure = KeyguardUtils.isKeyguardSecure(context)

// –ü–æ–ª—É—á–µ–Ω–∏–µ KeyguardManager
val keyguardManager = KeyguardUtils.getKeyguardManager(context)

// –ü—Ä–æ–≤–µ—Ä–∫–∞, –º–æ–∂–Ω–æ –ª–∏ –æ—Ç–∫–ª—é—á–∏—Ç—å –±–ª–æ–∫–∏—Ä–æ–≤–∫—É
val canDisableKeyguard = KeyguardUtils.canDisableKeyguard(context)
```

### MotionEventDispatcher
–î–∏—Å–ø–µ—Ç—á–µ—Ä —Å–æ–±—ã—Ç–∏–π –¥–≤–∏–∂–µ–Ω–∏—è —Å —Ä–∞—Å—à–∏—Ä–µ–Ω–Ω—ã–º –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ–º.

**–û—Å–Ω–æ–≤–Ω—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏:**
- –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –≤—Å–µ—Ö —Å–æ–±—ã—Ç–∏–π –∫–∞—Å–∞–Ω–∏–π
- –û—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç –∏ –≤—Ä–µ–º–µ–Ω–∏
- –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å —Å–∏—Å—Ç–µ–º–æ–π –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è

**–ü—Ä–∏–º–µ—Ä –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è:**
```kotlin
val dispatcher = MotionEventDispatcher("GameActivity")

// –î–∏—Å–ø–µ—Ç—á–µ—Ä–∏–∑–∞—Ü–∏—è —Å–æ–±—ã—Ç–∏—è –∫–∞—Å–∞–Ω–∏—è
dispatcher.dispatchTouchEvent(event)

// –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –±—É–¥–µ—Ç –≤–∫–ª—é—á–∞—Ç—å:
// - –ö–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã –∫–∞—Å–∞–Ω–∏—è (x, y)
// - –¢–∏–ø –¥–µ–π—Å—Ç–≤–∏—è (ACTION_DOWN, ACTION_UP, ACTION_MOVE)
// - ID —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞
// - –ò–º—è —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞
// - –í—Ä–µ–º—è –Ω–∞–∂–∞—Ç–∏—è –∏ —Å–æ–±—ã—Ç–∏—è
```

**–ü—Ä–∏–º–µ—Ä –ª–æ–≥–∞:**
```
[GameActivity] Touch event: x=150, y=300, action=ACTION_DOWN, 
deviceId=1, deviceName=TouchScreen, downTime=1234567890, eventTime=1234567890
```

### –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å –∏–≥—Ä–æ–≤—ã–º–∏ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞–º–∏

**–û–±—Ä–∞–±–æ—Ç–∫–∞ –∏–≥—Ä–æ–≤—ã—Ö —Å–æ–±—ã—Ç–∏–π:**
```kotlin
class GameActivity : BaseTouchActivity() {
    
    private lateinit var gameEngine: GameEngine
    private lateinit var motionEventDispatcher: MotionEventDispatcher
    
    override fun onCreate(savedInstanceState: Bundle?) {
        super.onCreate(savedInstanceState)
        setContentView(R.layout.activity_game)
        
        gameEngine = GameEngine()
        motionEventDispatcher = MotionEventDispatcher("GameActivity")
        
        // –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –∏–≥—Ä–æ–≤–æ–≥–æ –¥–≤–∏–∂–∫–∞
        setupGameEngine()
    }
    
    override fun onTouchEvent(event: MotionEvent): Boolean {
        // –î–∏—Å–ø–µ—Ç—á–µ—Ä–∏–∑–∞—Ü–∏—è —Å–æ–±—ã—Ç–∏—è –¥–ª—è –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è
        motionEventDispatcher.dispatchTouchEvent(event)
        
        // –û–±—Ä–∞–±–æ—Ç–∫–∞ –∏–≥—Ä–æ–≤—ã—Ö —Å–æ–±—ã—Ç–∏–π
        when (event.action) {
            MotionEvent.ACTION_DOWN -> {
                gameEngine.onTouchDown(event.x, event.y)
            }
            MotionEvent.ACTION_MOVE -> {
                gameEngine.onTouchMove(event.x, event.y)
            }
            MotionEvent.ACTION_UP -> {
                gameEngine.onTouchUp(event.x, event.y)
            }
        }
        
        return super.onTouchEvent(event)
    }
    
    override fun onClick(): Boolean {
        // –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ–¥–∏–Ω–æ—á–Ω–æ–≥–æ –∫–∞—Å–∞–Ω–∏—è –≤ –∏–≥—Ä–µ
        gameEngine.onClick()
        return true
    }
    
    override fun onDoubleClick(): Boolean {
        // –û–±—Ä–∞–±–æ—Ç–∫–∞ –¥–≤–æ–π–Ω–æ–≥–æ –∫–∞—Å–∞–Ω–∏—è –≤ –∏–≥—Ä–µ
        gameEngine.onDoubleClick()
        return true
    }
    
    override fun onLongClick(): Boolean {
        // –û–±—Ä–∞–±–æ—Ç–∫–∞ –¥–ª–∏—Ç–µ–ª—å–Ω–æ–≥–æ –∫–∞—Å–∞–Ω–∏—è –≤ –∏–≥—Ä–µ
        gameEngine.onLongClick()
        return true
    }
    
    override fun onSlideForward(args: FlingArgs): Boolean {
        // –û–±—Ä–∞–±–æ—Ç–∫–∞ —Å–≤–∞–π–ø–∞ –≤–ø–µ—Ä–µ–¥ –≤ –∏–≥—Ä–µ
        gameEngine.onSwipeForward(args.velocityX, args.velocityY)
        return true
    }
    
    override fun onSlideBackward(args: FlingArgs): Boolean {
        // –û–±—Ä–∞–±–æ—Ç–∫–∞ —Å–≤–∞–π–ø–∞ –Ω–∞–∑–∞–¥ –≤ –∏–≥—Ä–µ
        gameEngine.onSwipeBackward(args.velocityX, args.velocityY)
        return true
    }
    
    private fun setupGameEngine() {
        // –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –∏–≥—Ä–æ–≤–æ–≥–æ –¥–≤–∏–∂–∫–∞
        gameEngine.setTouchSensitivity(1.5f)
        gameEngine.setSoundEnabled(true)
        gameEngine.setVibrationEnabled(true)
    }
}
```

### –ó–≤—É–∫–æ–≤—ã–µ —ç—Ñ—Ñ–µ–∫—Ç—ã –¥–ª—è –∏–≥—Ä

**–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∑–≤—É–∫–æ–≤—ã–º–∏ —ç—Ñ—Ñ–µ–∫—Ç–∞–º–∏:**
```kotlin
// –í–∫–ª—é—á–µ–Ω–∏–µ –∑–≤—É–∫–æ–≤—ã—Ö —ç—Ñ—Ñ–µ–∫—Ç–æ–≤
toggleSoundEffect(1, true) // –¢–∏–ø 1 - —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–π –∑–≤—É–∫
toggleSoundEffect(2, true) // –¢–∏–ø 2 - –∏–≥—Ä–æ–≤–æ–π –∑–≤—É–∫
toggleSoundEffect(3, true) // –¢–∏–ø 3 - –∑–≤—É–∫ –ø–æ–±–µ–¥—ã

// –û—Ç–∫–ª—é—á–µ–Ω–∏–µ –∑–≤—É–∫–æ–≤—ã—Ö —ç—Ñ—Ñ–µ–∫—Ç–æ–≤
toggleSoundEffect(1, false)
toggleSoundEffect(2, false)
toggleSoundEffect(3, false)
```

### –°–∏—Å—Ç–µ–º–∞ —Å–æ–±—ã—Ç–∏–π –¥–ª—è –∏–≥—Ä

**–û–±—Ä–∞–±–æ—Ç–∫–∞ –∏–≥—Ä–æ–≤—ã—Ö –¥–µ–π—Å—Ç–≤–∏–π:**
```kotlin
class GameEventHandler {
    
    fun handleGameAction(action: TempleAction) {
        when (action) {
            is TempleAction.Click -> {
                // –ü—Ä–æ—Å—Ç–æ–µ –Ω–∞–∂–∞—Ç–∏–µ - –≤—ã—Å—Ç—Ä–µ–ª
                gameEngine.fire()
            }
            is TempleAction.DoubleClick -> {
                // –î–≤–æ–π–Ω–æ–µ –Ω–∞–∂–∞—Ç–∏–µ - –¥–≤–æ–π–Ω–æ–π –≤—ã—Å—Ç—Ä–µ–ª
                gameEngine.doubleFire()
            }
            is TempleAction.LongClick -> {
                // –î–ª–∏—Ç–µ–ª—å–Ω–æ–µ –Ω–∞–∂–∞—Ç–∏–µ - –ø—Ä–∏—Ü–µ–ª–∏–≤–∞–Ω–∏–µ
                gameEngine.aim()
            }
            is TempleAction.SlideForward -> {
                // –°–≤–∞–π–ø –≤–ø–µ—Ä–µ–¥ - –¥–≤–∏–∂–µ–Ω–∏–µ –≤–ø–µ—Ä–µ–¥
                gameEngine.moveForward()
            }
            is TempleAction.SlideBackward -> {
                // –°–≤–∞–π–ø –Ω–∞–∑–∞–¥ - –¥–≤–∏–∂–µ–Ω–∏–µ –Ω–∞–∑–∞–¥
                gameEngine.moveBackward()
            }
            is TempleAction.SlideContinuous -> {
                // –ù–µ–ø—Ä–µ—Ä—ã–≤–Ω–æ–µ —Å–∫–æ–ª—å–∂–µ–Ω–∏–µ - –ø–æ–≤–æ—Ä–æ—Ç
                gameEngine.rotate(action.delta)
            }
        }
    }
}
```

### –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å AR —Ñ—É–Ω–∫—Ü–∏—è–º–∏

**–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ AR –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–µ–π –≤ –∏–≥—Ä–∞—Ö:**
```kotlin
class ARGameActivity : BaseTouchActivity() {
    
    private lateinit var arRenderer: ARRenderer
    private lateinit var mirrorContainer: MirrorContainerView
    
    override fun onCreate(savedInstanceState: Bundle?) {
        super.onCreate(savedInstanceState)
        setContentView(R.layout.activity_ar_game)
        
        setupARRenderer()
        setupMirrorDisplay()
    }
    
    private fun setupARRenderer() {
        arRenderer = ARRenderer()
        arRenderer.setStereoMode(true)
        arRenderer.setDepthEnabled(true)
    }
    
    private fun setupMirrorDisplay() {
        mirrorContainer = findViewById(R.id.mirror_container)
        val bindingPair = mirrorContainer.bindTo(GameLayoutBinding::class.java)
        
        // –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ª–µ–≤–æ–≥–æ —ç–∫—Ä–∞–Ω–∞ (–ª–µ–≤—ã–π –≥–ª–∞–∑)
        bindingPair.left.gameView.setRenderer(arRenderer.getLeftRenderer())
        
        // –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø—Ä–∞–≤–æ–≥–æ —ç–∫—Ä–∞–Ω–∞ (–ø—Ä–∞–≤—ã–π –≥–ª–∞–∑)
        bindingPair.right.gameView.setRenderer(arRenderer.getRightRenderer())
        
        // –ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ 3D —ç—Ñ—Ñ–µ–∫—Ç–∞ –¥–ª—è —Å—Ç–µ—Ä–µ–æ—Å–∫–æ–ø–∏—á–µ—Å–∫–æ–≥–æ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è
        BindingPairKt.make3DEffect(
            bindingPair.left.root,
            bindingPair.right.root,
            enabled = true,
            depth = 15.0f
        )
    }
    
    override fun onSlideContinuous(delta: Float, longClick: Boolean): Boolean {
        // –ü–æ–≤–æ—Ä–æ—Ç –∫–∞–º–µ—Ä—ã –≤ AR
        arRenderer.rotateCamera(delta)
        return true
    }
}
```

## üîÑ –°–∏—Å—Ç–µ–º–∞ –ø–∞—Ä

### ViewPair
–ü–∞—Ä–∞ View –¥–ª—è –∑–µ—Ä–∫–∞–ª—å–Ω–æ–≥–æ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è —Å —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–º –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ–º.

**–û—Å–Ω–æ–≤–Ω—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏:**
- –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –ª–µ–≤–æ–≥–æ –∏ –ø—Ä–∞–≤–æ–≥–æ View
- –ü–æ–¥–¥–µ—Ä–∂–∫–∞ —Ç–∏–ø–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö –ø–∞—Ä
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ–º

**–ö–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä:**
```kotlin
ViewPair<T>(left: T, right: T)
```

**–û—Å–Ω–æ–≤–Ω—ã–µ –º–µ—Ç–æ–¥—ã:**
- `getLeft(): T` - –ø–æ–ª—É—á–µ–Ω–∏–µ –ª–µ–≤–æ–≥–æ —ç–ª–µ–º–µ–Ω—Ç–∞
- `getRight(): T` - –ø–æ–ª—É—á–µ–Ω–∏–µ –ø—Ä–∞–≤–æ–≥–æ —ç–ª–µ–º–µ–Ω—Ç–∞
- `update(block: (T) -> Unit)` - –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –æ–±–æ–∏—Ö —ç–ª–µ–º–µ–Ω—Ç–æ–≤
- `setLeft(block: (T) -> Unit)` - –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Ç–æ–ª—å–∫–æ –ª–µ–≤–æ–≥–æ —ç–ª–µ–º–µ–Ω—Ç–∞

**–ü—Ä–∏–º–µ—Ä –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è:**
```kotlin
val leftView = findViewById<TextView>(R.id.left_text)
val rightView = findViewById<TextView>(R.id.right_text)
val viewPair = ViewPair(leftView, rightView)

// –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –æ–±–æ–∏—Ö View –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ
viewPair.update { textView ->
    textView.text = "–û–±–Ω–æ–≤–ª–µ–Ω–Ω—ã–π —Ç–µ–∫—Å—Ç"
    textView.setTextColor(Color.BLUE)
}

// –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Ç–æ–ª—å–∫–æ –ª–µ–≤–æ–≥–æ View
viewPair.setLeft { textView ->
    textView.text = "–¢–æ–ª—å–∫–æ –ª–µ–≤—ã–π"
}
```

### BindingPair
–ü–∞—Ä–∞ ViewBinding –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –ø—Ä–∏–≤—è–∑–∫–∞–º–∏ –¥–∞–Ω–Ω—ã—Ö.

**–û—Å–Ω–æ–≤–Ω—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏:**
- –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è –ø—Ä–∏–≤—è–∑–æ–∫ –¥–∞–Ω–Ω—ã—Ö
- –ü–æ–¥–¥–µ—Ä–∂–∫–∞ 3D —ç—Ñ—Ñ–µ–∫—Ç–æ–≤
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —Å–æ–∑–¥–∞–Ω–∏–µ –ø–∞—Ä–Ω—ã—Ö –ø—Ä–∏–≤—è–∑–æ–∫

**–ü—Ä–∏–º–µ—Ä –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è:**
```kotlin
val bindingPair = BindingPair(leftBinding, rightBinding)

// –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –æ–±–æ–∏—Ö –ø—Ä–∏–≤—è–∑–æ–∫
bindingPair.update { binding ->
    binding.title.text = "–ù–æ–≤—ã–π –∑–∞–≥–æ–ª–æ–≤–æ–∫"
    binding.progressBar.progress = 75
}

// –ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ 3D —ç—Ñ—Ñ–µ–∫—Ç–∞
BindingPairKt.make3DEffect(
    bindingPair.left.root,
    bindingPair.right.root,
    enabled = true,
    depth = 8.0f
)
```

### HolderPair
–ü–∞—Ä–∞ —Ö–æ–ª–¥–µ—Ä–æ–≤ –¥–ª—è RecyclerView.

**–ü—Ä–∏–º–µ—Ä –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è:**
```kotlin
class MirrorViewHolder(leftBinding: ItemBinding, rightBinding: ItemBinding) : 
    RecyclerView.ViewHolder(MirrorContainerView(context)) {
    
    private val holderPair = HolderPair(
        LeftViewHolder(leftBinding),
        RightViewHolder(rightBinding)
    )
    
    fun bind(item: MirrorItem) {
        // –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –æ–±–æ–∏—Ö —Ö–æ–ª–¥–µ—Ä–æ–≤
        holderPair.update { holder ->
            holder.bind(item)
        }
    }
}
```

### AnyPair
–£–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω–∞—è –ø–∞—Ä–∞ –¥–ª—è –ª—é–±—ã—Ö –æ–±—ä–µ–∫—Ç–æ–≤.

**–ü—Ä–∏–º–µ—Ä –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è:**
```kotlin
val stringPair = AnyPair("–õ–µ–≤–∞—è —Å—Ç—Ä–æ–∫–∞", "–ü—Ä–∞–≤–∞—è —Å—Ç—Ä–æ–∫–∞")
val intPair = AnyPair(100, 200)

// –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∑–Ω–∞—á–µ–Ω–∏–π
stringPair.update { value ->
    // –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –æ–±–æ–∏—Ö –∑–Ω–∞—á–µ–Ω–∏–π
}

// –ü—Ä–æ–≤–µ—Ä–∫–∞ –ª–µ–≤–æ–≥–æ —ç–ª–µ–º–µ–Ω—Ç–∞
val isLeft = stringPair.checkIsLeft("–õ–µ–≤–∞—è —Å—Ç—Ä–æ–∫–∞")
```

### –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è —Å–æ—Å—Ç–æ—è–Ω–∏—è

**–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è:**
```kotlin
class MirrorStateManager {
    private val viewPair = ViewPair(leftView, rightView)
    private val bindingPair = BindingPair(leftBinding, rightBinding)
    
    fun updateState(newState: AppState) {
        // –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è View
        viewPair.update { view ->
            view.visibility = if (newState.isVisible) View.VISIBLE else View.GONE
        }
        
        // –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è –ø—Ä–∏–≤—è–∑–æ–∫
        bindingPair.update { binding ->
            binding.title.text = newState.title
            binding.subtitle.text = newState.subtitle
        }
    }
    
    fun updateLeftOnly(block: (View) -> Unit) {
        viewPair.setLeft(block)
    }
}
```

### –†–∞–±–æ—Ç–∞ —Å –∫–æ–ª–ª–µ–∫—Ü–∏—è–º–∏

**–°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è —Å–ø–∏—Å–∫–æ–≤:**
```kotlin
class MirrorListManager {
    private val leftAdapter = MyAdapter()
    private val rightAdapter = MyAdapter()
    private val adapterPair = AnyPair(leftAdapter, rightAdapter)
    
    fun updateList(newItems: List<MyItem>) {
        adapterPair.update { adapter ->
            adapter.submitList(newItems)
        }
    }
    
    fun updateItem(position: Int, item: MyItem) {
        adapterPair.update { adapter ->
            adapter.notifyItemChanged(position)
        }
    }
}
```

## üîä –ó–≤—É–∫–æ–≤—ã–µ —ç—Ñ—Ñ–µ–∫—Ç—ã

### GestureDetectorWithSound
–î–µ—Ç–µ–∫—Ç–æ—Ä –∂–µ—Å—Ç–æ–≤ —Å–æ –≤—Å—Ç—Ä–æ–µ–Ω–Ω–æ–π –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π –∑–≤—É–∫–æ–≤—ã—Ö —ç—Ñ—Ñ–µ–∫—Ç–æ–≤.

**–û—Å–Ω–æ–≤–Ω—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏:**
- –ó–≤—É–∫–æ–≤—ã–µ —ç—Ñ—Ñ–µ–∫—Ç—ã –ø—Ä–∏ –∫–∞—Å–∞–Ω–∏—è—Ö
- –ù–∞—Å—Ç—Ä–æ–π–∫–∞ —Ç–∏–ø–æ–≤ –∑–≤—É–∫–æ–≤
- –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å —Å–∏—Å—Ç–µ–º–Ω—ã–º–∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞–º–∏
- –ü–æ–¥–¥–µ—Ä–∂–∫–∞ —Ä–∞–∑–ª–∏—á–Ω—ã—Ö –∂–µ—Å—Ç–æ–≤

**–ü—Ä–∏–º–µ—Ä –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è:**
```kotlin
val gestureDetector = GestureDetectorWithSound(
    context = this,
    leftListener = leftGestureListener,
    rightListener = rightGestureListener
)

// –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –¥–ª—è –≥–ª–æ–±–∞–ª—å–Ω—ã—Ö —Å–æ–±—ã—Ç–∏–π
gestureDetector.a()

// –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –¥–ª—è —Å–æ–±—ã—Ç–∏–π Activity
gestureDetector.a(3)
```

### –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∑–≤—É–∫–æ–≤—ã–º–∏ —ç—Ñ—Ñ–µ–∫—Ç–∞–º–∏

**–í–∫–ª—é—á–µ–Ω–∏–µ/–æ—Ç–∫–ª—é—á–µ–Ω–∏–µ –∑–≤—É–∫–æ–≤:**
```kotlin
// –í–∫–ª—é—á–µ–Ω–∏–µ –∑–≤—É–∫–æ–≤–æ–≥–æ —ç—Ñ—Ñ–µ–∫—Ç–∞
gestureDetector.b(soundType)

// –û—Ç–∫–ª—é—á–µ–Ω–∏–µ –∑–≤—É–∫–æ–≤–æ–≥–æ —ç—Ñ—Ñ–µ–∫—Ç–∞
gestureDetector.a(soundType)
```

**–¢–∏–ø—ã –∑–≤—É–∫–æ–≤—ã—Ö —ç—Ñ—Ñ–µ–∫—Ç–æ–≤:**
```kotlin
// –¢–∏–ø 1 - —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–π –∑–≤—É–∫ –∫–∞—Å–∞–Ω–∏—è
val SOUND_TYPE_CLICK = 1

// –¢–∏–ø 2 - –∑–≤—É–∫ –¥–≤–æ–π–Ω–æ–≥–æ –∫–∞—Å–∞–Ω–∏—è
val SOUND_TYPE_DOUBLE_CLICK = 2

// –¢–∏–ø 3 - –∑–≤—É–∫ –¥–ª–∏—Ç–µ–ª—å–Ω–æ–≥–æ –∫–∞—Å–∞–Ω–∏—è
val SOUND_TYPE_LONG_CLICK = 3

// –¢–∏–ø 4 - –∑–≤—É–∫ —Å–≤–∞–π–ø–∞
val SOUND_TYPE_SWIPE = 4
```

### –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å TouchDispatcher

**–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∑–≤—É–∫–∞–º–∏:**
```kotlin
class MyTouchActivity : BaseTouchActivity() {
    
    override fun onCreate(savedInstanceState: Bundle?) {
        super.onCreate(savedInstanceState)
        
        // –í–∫–ª—é—á–µ–Ω–∏–µ –∑–≤—É–∫–æ–≤—ã—Ö —ç—Ñ—Ñ–µ–∫—Ç–æ–≤
        toggleSoundEffect(1, true) // –°—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–µ –∫–∞—Å–∞–Ω–∏—è
        toggleSoundEffect(2, true) // –î–≤–æ–π–Ω—ã–µ –∫–∞—Å–∞–Ω–∏—è
        toggleSoundEffect(3, true) // –î–ª–∏—Ç–µ–ª—å–Ω—ã–µ –∫–∞—Å–∞–Ω–∏—è
    }
    
    override fun onClick(): Boolean {
        // –ó–≤—É–∫ –±—É–¥–µ—Ç –≤–æ—Å–ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏
        return true
    }
    
    override fun onDoubleClick(): Boolean {
        // –ó–≤—É–∫ –¥–≤–æ–π–Ω–æ–≥–æ –∫–∞—Å–∞–Ω–∏—è –±—É–¥–µ—Ç –≤–æ—Å–ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏
        return true
    }
}
```

### –ö–∞—Å—Ç–æ–º–∏–∑–∞—Ü–∏—è –∑–≤—É–∫–æ–≤

**–ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏—Ö –∑–≤—É–∫–æ–≤:**
```kotlin
class CustomSoundManager {
    
    fun setupCustomSounds() {
        // –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –∑–≤—É–∫–æ–≤ –¥–ª—è —Ä–∞–∑–ª–∏—á–Ω—ã—Ö –¥–µ–π—Å—Ç–≤–∏–π
        setupClickSound()
        setupSwipeSound()
        setupLongPressSound()
    }
    
    private fun setupClickSound() {
        // –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –∑–≤—É–∫–∞ –¥–ª—è –æ–¥–∏–Ω–æ—á–Ω–æ–≥–æ –∫–∞—Å–∞–Ω–∏—è
    }
    
    private fun setupSwipeSound() {
        // –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –∑–≤—É–∫–∞ –¥–ª—è —Å–≤–∞–π–ø–æ–≤
    }
    
    private fun setupLongPressSound() {
        // –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –∑–≤—É–∫–∞ –¥–ª—è –¥–ª–∏—Ç–µ–ª—å–Ω–æ–≥–æ –Ω–∞–∂–∞—Ç–∏—è
    }
}
```

## ü•Ω –°–ø–µ—Ü–∏—Ñ–∏—á–Ω—ã–µ –¥–ª—è AR —Ñ—É–Ω–∫—Ü–∏–∏

### TempleAction –¥–ª—è AR —É—Å—Ç—Ä–æ–π—Å—Ç–≤
–°–ø–µ—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –¥–µ–π—Å—Ç–≤–∏—è –¥–ª—è –Ω–æ—Å–∏–º—ã—Ö AR —É—Å—Ç—Ä–æ–π—Å—Ç–≤.

**–û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏ AR –¥–µ–π—Å—Ç–≤–∏–π:**
- –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –∂–µ—Å—Ç–æ–≤ —â–∏–ø–∫–∞ (pinch)
- –û–±—Ä–∞–±–æ—Ç–∫–∞ –¥–ª–∏—Ç–µ–ª—å–Ω—ã—Ö –∂–µ—Å—Ç–æ–≤
- –°–ø–µ—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –∂–µ—Å—Ç—ã –¥–ª—è AR –æ—á–∫–æ–≤
- –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å —Å–∏—Å—Ç–µ–º–æ–π –∫–∞—Å–∞–Ω–∏–π

**–ñ–µ—Å—Ç—ã —â–∏–ø–∫–∞:**
```kotlin
// –û–±—Ä–∞–±–æ—Ç–∫–∞ –∂–µ—Å—Ç–∞ —â–∏–ø–∫–∞
override fun onKeyPinch() {
    // –£–≤–µ–ª–∏—á–µ–Ω–∏–µ/—É–º–µ–Ω—å—à–µ–Ω–∏–µ –º–∞—Å—à—Ç–∞–±–∞ –≤ AR
    arRenderer.zoomIn()
}

// –û–±—Ä–∞–±–æ—Ç–∫–∞ –¥–ª–∏—Ç–µ–ª—å–Ω–æ–≥–æ –∂–µ—Å—Ç–∞ —â–∏–ø–∫–∞
override fun onKeyLongPinch() {
    // –°–±—Ä–æ—Å –º–∞—Å—à—Ç–∞–±–∞ –≤ AR
    arRenderer.resetZoom()
}
```

### AR –∂–µ—Å—Ç—ã –∏ –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è

**–°–ø–µ—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –∂–µ—Å—Ç—ã –¥–ª—è AR:**
```kotlin
class ARGestureHandler {
    
    fun handleARGesture(action: TempleAction) {
        when (action) {
            is TempleAction.Click -> {
                // –í—ã–±–æ—Ä –æ–±—ä–µ–∫—Ç–∞ –≤ AR
                arScene.selectObject(action.x, action.y)
            }
            is TempleAction.DoubleClick -> {
                // –ê–∫—Ç–∏–≤–∞—Ü–∏—è –æ–±—ä–µ–∫—Ç–∞ –≤ AR
                arScene.activateObject(action.x, action.y)
            }
            is TempleAction.LongClick -> {
                // –ö–æ–Ω—Ç–µ–∫—Å—Ç–Ω–æ–µ –º–µ–Ω—é –≤ AR
                arScene.showContextMenu(action.x, action.y)
            }
            is TempleAction.SlideForward -> {
                // –ü–µ—Ä–µ—Ö–æ–¥ –∫ —Å–ª–µ–¥—É—é—â–µ–º—É AR —ç–ª–µ–º–µ–Ω—Ç—É
                arScene.nextElement()
            }
            is TempleAction.SlideBackward -> {
                // –ü–µ—Ä–µ—Ö–æ–¥ –∫ –ø—Ä–µ–¥—ã–¥—É—â–µ–º—É AR —ç–ª–µ–º–µ–Ω—Ç—É
                arScene.previousElement()
            }
            is TempleAction.SlideContinuous -> {
                // –ü–æ–≤–æ—Ä–æ—Ç –∫–∞–º–µ—Ä—ã –≤ AR
                arCamera.rotate(action.delta)
            }
        }
    }
}
```

### –°—Ç–µ—Ä–µ–æ—Å–∫–æ–ø–∏—á–µ—Å–∫–æ–µ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ

**–ü–æ–¥–¥–µ—Ä–∂–∫–∞ 3D –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è:**
```kotlin
class ARDisplayManager {
    
    fun setupStereoDisplay() {
        // –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ª–µ–≤–æ–≥–æ —ç–∫—Ä–∞–Ω–∞ (–ª–µ–≤—ã–π –≥–ª–∞–∑)
        setupLeftEye()
        
        // –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø—Ä–∞–≤–æ–≥–æ —ç–∫—Ä–∞–Ω–∞ (–ø—Ä–∞–≤—ã–π –≥–ª–∞–∑)
        setupRightEye()
        
        // –ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ 3D —ç—Ñ—Ñ–µ–∫—Ç–æ–≤
        apply3DEffects()
    }
    
    private fun setupLeftEye() {
        // –ù–∞—Å—Ç—Ä–æ–π–∫–∞ —Ä–µ–Ω–¥–µ—Ä–µ—Ä–∞ –¥–ª—è –ª–µ–≤–æ–≥–æ –≥–ª–∞–∑–∞
        leftRenderer.setEyeOffset(-eyeDistance / 2)
        leftRenderer.setFOV(leftEyeFOV)
    }
    
    private fun setupRightEye() {
        // –ù–∞—Å—Ç—Ä–æ–π–∫–∞ —Ä–µ–Ω–¥–µ—Ä–µ—Ä–∞ –¥–ª—è –ø—Ä–∞–≤–æ–≥–æ –≥–ª–∞–∑–∞
        rightRenderer.setEyeOffset(eyeDistance / 2)
        rightRenderer.setFOV(rightEyeFOV)
    }
    
    private fun apply3DEffects() {
        // –ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ –≥–ª—É–±–∏–Ω—ã –∏ –ø–∞—Ä–∞–ª–ª–∞–∫—Å–∞
        BindingPairKt.make3DEffect(
            leftView.root,
            rightView.root,
            enabled = true,
            depth = 15.0f
        )
    }
}
```

### AR –Ω–∞–≤–∏–≥–∞—Ü–∏—è

**–ù–∞–≤–∏–≥–∞—Ü–∏—è –≤ AR –ø—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–µ:**
```kotlin
class ARNavigationManager {
    
    fun handleARNavigation(action: TempleAction) {
        when (action) {
            is TempleAction.SlideForward -> {
                // –î–≤–∏–∂–µ–Ω–∏–µ –≤–ø–µ—Ä–µ–¥ –≤ AR
                arCamera.moveForward()
            }
            is TempleAction.SlideBackward -> {
                // –î–≤–∏–∂–µ–Ω–∏–µ –Ω–∞–∑–∞–¥ –≤ AR
                arCamera.moveBackward()
            }
            is TempleAction.SlideContinuous -> {
                // –ü–æ–≤–æ—Ä–æ—Ç –≤ AR
                arCamera.rotate(action.delta)
            }
            is TempleAction.LongClick -> {
                // –¢–µ–ª–µ–ø–æ—Ä—Ç–∞—Ü–∏—è –≤ AR
                arCamera.teleport(action.x, action.y)
            }
        }
    }
    
    fun setupARControls() {
        // –ù–∞—Å—Ç—Ä–æ–π–∫–∞ —á—É–≤—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ AR –∫–æ–Ω—Ç—Ä–æ–ª–æ–≤
        arCamera.setSensitivity(1.5f)
        arCamera.setSmoothMovement(true)
        arCamera.setCollisionDetection(true)
    }
}
```

## üìö –ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

### –ü–æ–ª–Ω—ã–π –ø—Ä–∏–º–µ—Ä AR –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è

**–û—Å–Ω–æ–≤–Ω–∞—è –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—å:**
```kotlin
class ARMainActivity : BaseTouchActivity() {
    
    private lateinit var arRenderer: ARRenderer
    private lateinit var mirrorContainer: MirrorContainerView
    private lateinit var focusTracker: RecyclerViewFocusTracker
    
    override fun onCreate(savedInstanceState: Bundle?) {
        super.onCreate(savedInstanceState)
        setContentView(R.layout.activity_ar_main)
        
        setupARComponents()
        setupMirrorDisplay()
        setupFocusTracker()
        setupSoundEffects()
    }
    
    private fun setupARComponents() {
        arRenderer = ARRenderer()
        arRenderer.setStereoMode(true)
        arRenderer.setDepthEnabled(true)
    }
    
    private fun setupMirrorDisplay() {
        mirrorContainer = findViewById(R.id.mirror_container)
        val bindingPair = mirrorContainer.bindTo(ARLayoutBinding::class.java)
        
        // –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ª–µ–≤–æ–≥–æ —ç–∫—Ä–∞–Ω–∞
        bindingPair.left.arView.setRenderer(arRenderer.getLeftRenderer())
        bindingPair.left.controlsView.setupLeftControls()
        
        // –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø—Ä–∞–≤–æ–≥–æ —ç–∫—Ä–∞–Ω–∞
        bindingPair.right.arView.setRenderer(arRenderer.getRightRenderer())
        bindingPair.right.controlsView.setupRightControls()
        
        // –ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ 3D —ç—Ñ—Ñ–µ–∫—Ç–∞
        BindingPairKt.make3DEffect(
            bindingPair.left.root,
            bindingPair.right.root,
            enabled = true,
            depth = 12.0f
        )
    }
    
    private fun setupFocusTracker() {
        val recyclerView = findViewById<RecyclerView>(R.id.ar_menu)
        val viewPair = ViewPair(recyclerView, recyclerView)
        focusTracker = RecyclerViewFocusTracker(viewPair, ignoreDelta = 30, loop = true)
        
        focusTracker.setOnItemFocusListener { position, view ->
            // –ê–Ω–∏–º–∞—Ü–∏—è –ø—Ä–∏ –ø–æ–ª—É—á–µ–Ω–∏–∏ —Ñ–æ–∫—É—Å–∞
            view.animate()
                .scaleX(1.1f)
                .scaleY(1.1f)
                .setDuration(200)
                .start()
        }
    }
    
    private fun setupSoundEffects() {
        // –í–∫–ª—é—á–µ–Ω–∏–µ –∑–≤—É–∫–æ–≤—ã—Ö —ç—Ñ—Ñ–µ–∫—Ç–æ–≤
        toggleSoundEffect(1, true) // –ö–∞—Å–∞–Ω–∏—è
        toggleSoundEffect(2, true) // –î–≤–æ–π–Ω—ã–µ –∫–∞—Å–∞–Ω–∏—è
        toggleSoundEffect(3, true) // –î–ª–∏—Ç–µ–ª—å–Ω—ã–µ –∫–∞—Å–∞–Ω–∏—è
    }
    
    override fun onClick(): Boolean {
        // –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ–¥–∏–Ω–æ—á–Ω–æ–≥–æ –∫–∞—Å–∞–Ω–∏—è –≤ AR
        arRenderer.handleClick()
        return true
    }
    
    override fun onDoubleClick(): Boolean {
        // –û–±—Ä–∞–±–æ—Ç–∫–∞ –¥–≤–æ–π–Ω–æ–≥–æ –∫–∞—Å–∞–Ω–∏—è –≤ AR
        arRenderer.handleDoubleClick()
        return true
    }
    
    override fun onLongClick(): Boolean {
        // –û–±—Ä–∞–±–æ—Ç–∫–∞ –¥–ª–∏—Ç–µ–ª—å–Ω–æ–≥–æ –∫–∞—Å–∞–Ω–∏—è –≤ AR
        arRenderer.handleLongClick()
        return true
    }
    
    override fun onSlideForward(args: FlingArgs): Boolean {
        // –û–±—Ä–∞–±–æ—Ç–∫–∞ —Å–≤–∞–π–ø–∞ –≤–ø–µ—Ä–µ–¥ –≤ AR
        arRenderer.moveForward()
        return true
    }
    
    override fun onSlideBackward(args: FlingArgs): Boolean {
        // –û–±—Ä–∞–±–æ—Ç–∫–∞ —Å–≤–∞–π–ø–∞ –Ω–∞–∑–∞–¥ –≤ AR
        arRenderer.moveBackward()
        return true
    }
    
    override fun onSlideContinuous(delta: Float, longClick: Boolean): Boolean {
        // –û–±—Ä–∞–±–æ—Ç–∫–∞ –Ω–µ–ø—Ä–µ—Ä—ã–≤–Ω–æ–≥–æ —Å–∫–æ–ª—å–∂–µ–Ω–∏—è –≤ AR
        arRenderer.rotate(delta)
        return true
    }
    
    override fun onKeyPinch() {
        // –û–±—Ä–∞–±–æ—Ç–∫–∞ –∂–µ—Å—Ç–∞ —â–∏–ø–∫–∞ –≤ AR
        arRenderer.zoomIn()
    }
    
    override fun onKeyLongPinch() {
        // –û–±—Ä–∞–±–æ—Ç–∫–∞ –¥–ª–∏—Ç–µ–ª—å–Ω–æ–≥–æ –∂–µ—Å—Ç–∞ —â–∏–ø–∫–∞ –≤ AR
        arRenderer.resetZoom()
    }
}
```

### –ü—Ä–∏–º–µ—Ä –¥–∏–∞–ª–æ–≥–∞ —Å AR –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π

**AR –¥–∏–∞–ª–æ–≥:**
```kotlin
class ARDialogActivity : BaseTouchActivity() {
    
    fun showARDialog() {
        val focusTracker = FocusTracker()
        
        val dialog = FDialog.Builder<ARDialogBinding>(this, R.style.ARDialog)
            .setContentView(
                bindingClz = ARDialogBinding::class.java,
                initViewBlock = { bindingPair, dialog ->
                    // –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ª–µ–≤–æ–≥–æ —ç–∫—Ä–∞–Ω–∞
                    bindingPair.left.title.text = "AR –ù–∞—Å—Ç—Ä–æ–π–∫–∏"
                    bindingPair.left.option1.text = "–í–∫–ª—é—á–∏—Ç—å 3D"
                    bindingPair.left.option2.text = "–ù–∞—Å—Ç—Ä–æ–π–∫–∏ –∑–≤—É–∫–∞"
                    
                    // –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø—Ä–∞–≤–æ–≥–æ —ç–∫—Ä–∞–Ω–∞
                    bindingPair.right.title.text = "AR Settings"
                    bindingPair.right.option1.text = "Enable 3D"
                    bindingPair.right.option2.text = "Sound Settings"
                    
                    // –ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ 3D —ç—Ñ—Ñ–µ–∫—Ç–∞
                    BindingPairKt.make3DEffect(
                        bindingPair.left.root,
                        bindingPair.right.root,
                        enabled = true,
                        depth = 10.0f
                    )
                }
            )
            .setEventHandler { action, dialog ->
                when (action) {
                    is TempleAction.SlideForward -> {
                        focusTracker.next()
                    }
                    is TempleAction.SlideBackward -> {
                        focusTracker.previous()
                    }
                    is TempleAction.Click -> {
                        val currentItem = focusTracker.getCurrentFocusItem()
                        currentItem?.getEventHandler()?.invoke(action, dialog)
                    }
                }
            }
            .setFocusTracker(focusTracker)
            .build()
        
        dialog.show()
    }
}
```

### –ü—Ä–∏–º–µ—Ä —Ç–æ—Å—Ç–∞ —Å AR –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π

**AR —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ:**
```kotlin
fun showARToast() {
    FToast.showCustom(
        msg = "AR –æ–±—ä–µ–∫—Ç –∑–∞–≥—Ä—É–∂–µ–Ω!",
        bindingClz = ARToastBinding::class.java
    ) { bindingPair, message ->
        // –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ª–µ–≤–æ–≥–æ —ç–∫—Ä–∞–Ω–∞
        bindingPair.left.message.text = message
        bindingPair.left.arIcon.setImageResource(R.drawable.ic_ar_success)
        bindingPair.left.root.setBackgroundColor(Color.GREEN)
        
        // –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø—Ä–∞–≤–æ–≥–æ —ç–∫—Ä–∞–Ω–∞
        bindingPair.right.message.text = message
        bindingPair.right.arIcon.setImageResource(R.drawable.ic_ar_success)
        bindingPair.right.root.setBackgroundColor(Color.GREEN)
        
        // –ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ 3D —ç—Ñ—Ñ–µ–∫—Ç–∞
        BindingPairKt.make3DEffect(
            bindingPair.left.root,
            bindingPair.right.root,
            enabled = true,
            depth = 6.0f
        )
    }
}
```

## üìÑ –õ–∏—Ü–µ–Ω–∑–∏—è

```
MIT License

Copyright (c) 2024 RayNeo

Permission is hereby granted, free of charge, to any person obtaining a copy
of this software and associated documentation files (the "Software"), to deal
in the Software without restriction, including without limitation the rights
to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
copies of the Software, and to permit persons to whom the Software is
furnished to do so, subject to the following conditions:

The above copyright notice and this permission notice shall be included in all
copies or substantial portions of the Software.

THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
SOFTWARE.
```

---
